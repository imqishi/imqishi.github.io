<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="If you don’t like how the table is set, turn over the table.">
    <meta name="keyword" content="null">
    <meta name="theme-color" content="#600090">
    <meta name="msapplication-navbutton-color" content="#600090">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="#600090">
    <link rel="shortcut icon" href="https://cdn4.iconfinder.com/data/icons/ionicons/512/icon-person-128.png">
    <link rel="alternate" type="application/atom+xml" title="Nick&#39;s Recycle bin" href="/atom.xml">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
    <link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.css">
    <title>
        
        第一篇博客｜Nick&#39;s blog
        
    </title>

    <link rel="canonical" href="http://blog.imqishi.cn/2017/01/16/第一篇博客/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/blog-style.css">

    <!-- Pygments Github CSS -->
    <link rel="stylesheet" href="/css/syntax.css">
</head>

<style>

    header.intro-header {
        background-image: url('background.jpg')
    }
</style>
<!-- hack iOS CSS :active style -->
<body ontouchstart="" class="animated fadeIn">
<!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top " id="nav-top" data-ispost = "true" data-istags="false
" data-ishome = "false" >
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand animated pulse" href="/">
                <span class="brand-logo">
                    Nick&#39;s Recycle bin
                </span>
                's Blog
            </a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <!-- Known Issue, found by Hux:
            <nav>'s height woule be hold on by its content.
            so, when navbar scale out, the <nav> will cover tags.
            also mask any touch event of tags, unfortunately.
        -->
        <!-- /.navbar-collapse -->
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">Home</a>
                    </li>
					
                    
					
					
                </ul>
            </div>
        </div>
    </div>
    <!-- /.container -->
</nav>
<script>
    // Drop Bootstarp low-performance Navbar
    // Use customize navbar with high-quality material design animation
    // in high-perf jank-free CSS3 implementation
//    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        // CLOSE
            $navbar.className = " ";
            // wait until animation end.
            setTimeout(function(){
                // prevent frequently toggle
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        // OPEN
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>

<!-- Main Content -->

<!--only post-->


<img class="wechat-title-img"
     src="">


<style>
    
    header.intro-header {
        background-image: url('')
    }

    
</style>

<header class="intro-header">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 text-center">
                <div class="post-heading">
                    <h1>第一篇博客</h1>
                    
                    <span class="meta">
                         作者 Nick
                        <span>
                          日期 2017-01-16
                         </span>
                    </span>
                    <div class="tags text-center">
                        
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="post-title-haojen">
        <span>
            第一篇博客
        </span>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">
            <!-- Post Container -->
            <div class="col-lg-8 col-lg-offset-1 col-sm-9 post-container">
                <p>其实在这台腾讯云主机购买之前，我还买过一个阿里云的主机用了一段时间，但是那段时间一直把阿里云的那台机器扔在一旁并没有用过。这次又买了这个主机，开始的时候并不想买，因为有之前的那次失败的购买经历，买了以后啥都没干，扔了几个月白浪费了几十块。但是想想有时候还是需要记点东西的，在经过了大四一年研一半年的时光之后个人也有了点略微的想法，就搞一个耍耍咯~</p>
<p>第一篇博客写什么呢？想不起来。我曾经想象过买了主机购了域名，我要干啥干啥，做点有意义的事情。但是这个世界上并没有那么多有意义的事情让你去做。那我就做些对自己可能有些用的事情好啦。比如…我买来的第一件事是搭了个seafile网盘（也是醉了）然后最近在写DNS的相关东西，就趁热打铁买了个域名，配了几条A记录上来，然后又搞了个反代，自己玩儿了几个简单的东西还搞得不亦乐乎，可能这就是我这种初学之人的奇葩的乐趣吧~</p>
<h1 id="Seafile云盘"><a href="#Seafile云盘" class="headerlink" title="Seafile云盘"></a>Seafile云盘</h1><p>Seafile 是国内团队开发、国际领先的开源企业云存储软件,为企业提供私有云环境下的网盘解决方案,满足文件集中管理、多终端访问、共享协作等需求。然而，我只是把它当个个人网盘，还不能放大东西，因为我虚机存储有限，并且带宽也只有1Mbps…^_^</p>
<p>又扯远了…<a href="https://www.seafile.com/download/" target="_blank" rel="external">官网</a>下载对应的Linux服务器端文件，有时候会提示网站没备案，多点几次就会好的（醉）…可以直接在虚机执行</p>
<p><code>wget http://download-cn.seafile.com/seafile-server_6.0.7_x86-64.tar.gz</code> </p>
<p>然后解压</p>
<p><code>tar -xzvf seafile-server_6.0.7_x86-64.tar.gz</code></p>
<p>seafile依赖Python2.7以及MySQL（或者是SQLite）因为平时开发啥的经常用MySQL，就选了前者，他官网给的是一个MySQL的精简版类似于，叫mariadb，安装方法为：</p>
<p><code>yum install mariadb-server</code></p>
<p>这玩意儿奇葩的是，他的运行还是叫service mysql start…</p>
<p>总而言之先运行起来咯，然后就可以简单粗暴的在刚才解压的seafile文件里面</p>
<p><code>./setup-seafile-mysql.sh  #运行安装脚本并回答预设问题</code></p>
<p>之后就可以启动seafile和seahub，使用网盘啦~</p>
<p><code>./seafile.sh start # 启动 Seafile 服务</code><br><code>./seahub.sh start &lt;port&gt;  # 启动 Seahub 网站 （默认运行在8000端口上）</code></p>
<p>可以通过输入 <a href="http://your_ip:8000" target="_blank" rel="external">http://your_ip:8000</a> 访问seafile</p>
<p>其他参考来自<a href="https://manual-cn.seafile.com/deploy/using_mysql.html" target="_blank" rel="external">seafile官方文档</a> 给官方文档点赞，简单易懂~</p>
<h1 id="配置域名及反向代理"><a href="#配置域名及反向代理" class="headerlink" title="配置域名及反向代理"></a>配置域名及反向代理</h1><p>距离上次编辑又过了有一段时间啦，期间一直在收拾回家还有年会的一些事情。还有一个问题就是配置的过程中确实出现了一些波折。今天有时间了，来总结一下：</p>
<h2 id="第一次尝试"><a href="#第一次尝试" class="headerlink" title="第一次尝试"></a>第一次尝试</h2><p>最早的时候并没有打算搞域名。直到买了服务器过了段时间考完试了，打算自己弄点东西耍耍，可是却发现不知道服务器的公网IP，去管理端查了一下，又是一串并不好记的数字。恰好那段时间在做DNS线路检测的相关部分，就决定自己也买个域名玩玩儿，还顺路看了一些DNS的入门教程，如权威查询、递归查询、域、线路、权威域、反向域、转发域等等…说来惭愧，虽然写过一丢丢DNS的业务逻辑代码，对其中的工作原理却一直没有怎么看过。感觉这几个算是可以快速学习入门概念的：<a href="http://www.toxingwang.com/linux-unix/linux-admin/1165.html" target="_blank" rel="external">DNS基本概念学习</a></p>
<p>购买域名以后，进入腾讯云的云解析控制台，点击所购买的域名imqishi.cn右侧的 解析 标志进入记录管理页面。</p>
<p>按照默认的配置，添加了一条A记录，主机类型走默认@，记录值处填写云服务器的公网IP地址，一个最简单的配置完成了。原来需要输入IP:8000才可以访问Seafile的web服务，现在只需要输入：imqishi.cn:8000就可以了~</p>
<h2 id="进一步改进"><a href="#进一步改进" class="headerlink" title="进一步改进"></a>进一步改进</h2><p>不久以后，我发现，ssh到虚机需要 <code>ssh root@imqishi.cn</code>  ，访问云盘又是 <code>imqishi.cn:8000</code> ，后来建了博客又是 <code>imqishi.cn:4000</code> ，指不定以后再开启一个什么服务就又是一个新的端口。所谓懒有的时候也是第一生产力，人就是为了图懒，才发明了越来越多的有效的工具。看到腾讯的首页是www.qq.com，云服务是qloud.qq.com。我就想我要不要也玩玩二级域名？这样的话就不用记麻烦的端口号了。吴神对此并不感到有啥有趣，对他来说DNS这套东西实在是太熟悉了，来来回回倒腾呗，但是对于我这个刚刚入门的人来说却是有着无穷的乐趣，毕竟我没做过嘛，啊哈哈~不多说，开搞！</p>
<p>又一次跑到云解析的页面，删去了原来的@的那条记录。新建了一个记录为 <code>cloud.imqishi.cn</code> ，又建了一个记录为 <code>blog.imqishi.cn</code> ，其记录值仍然指向云主机IP。显然，这里没有配置端口的设置，怎么样知道我这个域名对应的是想访问哪个端口呢？于是这个时候就用到了nginx—反向代理。反向代理（Reverse Proxy）方式是指以代理服务器来接受internet上的连接请求，然后将请求转发给内部网络上的服务器，并将从服务器上得到的结果返回给internet上请求连接的客户端，此时代理服务器对外就表现为一个反向代理服务器。通过nginx监听80端口实现对通过不同域名的请求进行到其他端口的转发，从而可以通过域名就进行对该服务器不同端口的访问。对于hexo这种静态页面配置来说比较简单，只需要做一个简单的反向代理设置就可以了：</p>
<figure class="highlight nginx"><table><tr><td class="code"><pre><div class="line"><span class="section">server</span> &#123;</div><div class="line">    <span class="attribute">listen</span>       <span class="number">80</span>;</div><div class="line">    <span class="attribute">server_name</span>  blog.imqishi.cn;</div><div class="line"></div><div class="line">    <span class="attribute">access_log</span> /data/node/log/host.access.log  main;</div><div class="line"></div><div class="line">    <span class="attribute">location</span> / &#123;</div><div class="line">        <span class="attribute">proxy_set_header</span> Host <span class="variable">$http_host</span>;</div><div class="line">        <span class="attribute">proxy_set_header</span> X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</div><div class="line">        <span class="attribute">proxy_set_header</span> X-Real-Ip <span class="variable">$remote_addr</span>;</div><div class="line">        <span class="attribute">proxy_set_header</span> X-NginX-Proxy <span class="literal">true</span>;</div><div class="line">        <span class="attribute">proxy_pass</span> http://127.0.0.1:4000/;</div><div class="line">        <span class="attribute">proxy_redirect</span> <span class="literal">off</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>然而在配置Seafile的Seahub（负责云盘的web端处理）却遇到了不小的问题。第一个版本按照上面的方式只是将server_name和proxy_pass进行了修改，浏览器打开cloud.imqishi.cn可以正常访问，但是发现无法上传附件。到Seafile官网查看配置，才知道Seafile因为涉及到文件传输，和普通的配置有些不同，同时官方给出了一个推荐配置，并且使用fastcgi提供优化。配置文件如下：</p>
<figure class="highlight nginx"><table><tr><td class="code"><pre><div class="line"><span class="section">server</span> &#123;</div><div class="line">    <span class="attribute">listen</span> <span class="number">80</span>;</div><div class="line">    <span class="attribute">server_name</span> cloud.imqishi.cn;</div><div class="line"></div><div class="line">    <span class="attribute">proxy_set_header</span> X-Forwarded-For <span class="variable">$remote_addr</span>;</div><div class="line"></div><div class="line">    <span class="attribute">location</span> / &#123;</div><div class="line">        <span class="attribute">fastcgi_pass</span>    <span class="number">127.0.0.1:8000</span>;</div><div class="line">        <span class="attribute">fastcgi_param</span>   SCRIPT_FILENAME     <span class="variable">$document_root</span><span class="variable">$fastcgi_script_name</span>;</div><div class="line">        <span class="attribute">fastcgi_param</span>   PATH_INFO           <span class="variable">$fastcgi_script_name</span>;</div><div class="line"></div><div class="line">        <span class="attribute">fastcgi_param</span>    SERVER_PROTOCOL        <span class="variable">$server_protocol</span>;</div><div class="line">        <span class="attribute">fastcgi_param</span>   QUERY_STRING        <span class="variable">$query_string</span>;</div><div class="line">        <span class="attribute">fastcgi_param</span>   REQUEST_METHOD      <span class="variable">$request_method</span>;</div><div class="line">        <span class="attribute">fastcgi_param</span>   CONTENT_TYPE        <span class="variable">$content_type</span>;</div><div class="line">        <span class="attribute">fastcgi_param</span>   CONTENT_LENGTH      <span class="variable">$content_length</span>;</div><div class="line">        <span class="attribute">fastcgi_param</span>    SERVER_ADDR         <span class="variable">$server_addr</span>;</div><div class="line">        <span class="attribute">fastcgi_param</span>    SERVER_PORT         <span class="variable">$server_port</span>;</div><div class="line">        <span class="attribute">fastcgi_param</span>    SERVER_NAME         <span class="variable">$server_name</span>;</div><div class="line">        <span class="attribute">fastcgi_param</span>   REMOTE_ADDR         <span class="variable">$remote_addr</span>;</div><div class="line"></div><div class="line">        <span class="attribute">access_log</span>      /var/log/nginx/seahub.access.log;</div><div class="line">        <span class="attribute">error_log</span>       /var/log/nginx/seahub.<span class="literal">error</span>.log;</div><div class="line">        <span class="attribute">fastcgi_read_timeout</span> <span class="number">36000</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="attribute">location</span> /seafhttp &#123;</div><div class="line">        <span class="attribute">rewrite</span><span class="regexp"> ^/seafhttp(.*)$</span> <span class="variable">$1</span> <span class="literal">break</span>;</div><div class="line">        <span class="attribute">proxy_pass</span> http://127.0.0.1:8082;</div><div class="line">        <span class="attribute">client_max_body_size</span> <span class="number">0</span>;</div><div class="line">        <span class="attribute">proxy_connect_timeout</span>  <span class="number">36000s</span>;</div><div class="line">        <span class="attribute">proxy_read_timeout</span>  <span class="number">36000s</span>;</div><div class="line">        <span class="attribute">proxy_send_timeout</span>  <span class="number">36000s</span>;</div><div class="line">        <span class="attribute">send_timeout</span>  <span class="number">36000s</span>;</div><div class="line">        <span class="attribute">proxy_request_buffering</span> <span class="literal">off</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="attribute">location</span> /media &#123;</div><div class="line">        <span class="attribute">root</span> /root/nick/seafile-server-latest/seahub;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>这个配置文件呢其实是没有什么问题的，配置完成后重启seafile和seahub服务，seahub需要使用额外参数：在Seafile目录下使用./seahub.sh start-fastcgi</p>
<p>同时需要注意的是，配置完成后，需要去web端，点击个人头像下拉菜单的 系统管理 按钮，在左侧选择设置，并设置service_url为你的域名，如<a href="http://cloud.imqishi.cn" target="_blank" rel="external">http://cloud.imqishi.cn</a> ，设置file_server_root为 <a href="http://cloud.imqishi.cn/seafhttp" target="_blank" rel="external">http://cloud.imqishi.cn/seafhttp</a> ，文件下载服务才可正常使用。</p>
<p>开始的时候呢这个配置是没有问题的。然而过了一天以后再登录我的web云盘时，整个人都懵逼了，网页上空荡荡的几个input还有文字，所有的CSS都不见了！图片也加载不出来。就像平时改bug时做的一样，右键-审查元素，发现大量的js文件还有css文件都显示403错误…403…恩！马上就想到了权限问题！看了一下文件路径是在<strong>DIR</strong>/seafile-server-latest/seahub/media/，果断去给了个777…再次刷新我就懵逼了…一点儿效果都没有！重启nginx服务器，依然没有什么卵用…问了下吴神说应该是nginx配置出错嘞，我思来想去配置文件是官方提供的，看网上大家成功的也都是用的这份配置文件，变都没有变，为什么我的就不对呢？</p>
<p>这时候我把目光转向了seafile所在的文件夹，权限是root:root.我想起来之前有一次看到nginx配置的文章说nginx是由nginx还是worker用户去跑的，会不会是root权限太高了，所以无法加载呢？然后不明觉厉的我直接暴力怼了个chown -R nginx:nginx <strong>DIR</strong>/seafile. 这回倒好，直接报大错了！在进行重启服务的时候提示，没有nginx这个用户！我晕…默默改回root:root…</p>
<p>到这个时候我其实已经比较有眉目了，肯定是nginx的权限太低，导致了我无法访问里面的一些文件。可是ngnix到底怎么配置才好呢？这时候突然谷歌到一篇文章有一句话，说是在配置文件中使用root用户权限。对啊！这些基本通用的配置应该是在nginx.conf里面写的呀，一下子才反应过来…打开nginx.conf，赫然几个大字：user nginx wtf肯定就是他了！改成 user root 以后重启nginx，访问，一切ok！这一波找问题的经历，也是蛮醉的！</p>
<h2 id="又一次改动—nginx配置静态目录"><a href="#又一次改动—nginx配置静态目录" class="headerlink" title="又一次改动—nginx配置静态目录"></a>又一次改动—nginx配置静态目录</h2><p>之前配了个hexo的反代，那时候还很年轻，没写啥东西，现在突然想要写了，发现直接使用反代的话，相当于是hexo的4000端口服务器一直开着，使用命令+&amp;的方式也不能让它在后台运行。这我就懵了，总不能一直开着一个terminal挂着这个进程吧…遂去谷歌，发现这东西的正常用法是通过hexo编写md文件，然后使用generate命令生成静态文件，再提供给用户访问。静态文件在public目录下。还有一种方式是挂到github上，因为自己有这个云主机，就不如挂到自己这里咯~于是修改nginx的blog.conf</p>
<figure class="highlight nginx"><table><tr><td class="code"><pre><div class="line"><span class="comment">#简单配置静态目录</span></div><div class="line"><span class="section">server</span> &#123;</div><div class="line">    <span class="attribute">listen</span>       <span class="number">80</span>;</div><div class="line">    <span class="attribute">server_name</span>  blog.imqishi.cn;</div><div class="line">    <span class="attribute">root</span> /var/www/html/blog/public;</div><div class="line">    <span class="attribute">index</span> index.html;</div><div class="line"></div><div class="line">    <span class="attribute">location</span> / &#123;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>这样相当于由nginx直接接管了博客，而不是反代到4000端口的服务器上去运行，自然就不需要再hexo server咯~</p>
<h1 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h1><p>通过鼓捣这个博客和云盘的搭建，对nginx的基本配置及反向代理配置有了一定的了解。并且在配置过程中遇到的问题进行排查，不再是以前那种盲目的搜索，而是发现问题，有针对性的搜索问题，思考问题。我觉得这是我以前很少有过的。过去总是想着能搭出来就行了，急于求成，一个弄不出来就删了转而投靠另一个容易搭建的，也不想去解决问题。我觉得这种思维以后一定要避免。第一篇文章虽然写的还是很皮毛，至少也算是开了个头啦~今后有些捣鼓的东西也要好好来这总结一下~~继续加油吧！</p>

                <hr>
                

                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/2017/04/17/近期总结与下一步计划/" data-toggle="tooltip" data-placement="top"
                           title="近期总结与下一步计划">&larr; Previous Post</a>
                    </li>
                    
                    
                </ul>

                

                


                <!--加入新的评论系统-->
                
            </div>

            <div class="hidden-xs col-sm-3 toc-col">
                <div class="toc-wrap">
                    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Seafile云盘"><span class="toc-text">Seafile云盘</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#配置域名及反向代理"><span class="toc-text">配置域名及反向代理</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#第一次尝试"><span class="toc-text">第一次尝试</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#进一步改进"><span class="toc-text">进一步改进</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#又一次改动—nginx配置静态目录"><span class="toc-text">又一次改动—nginx配置静态目录</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#小结"><span class="toc-text">小结</span></a></li></ol>
                </div>
            </div>
        </div>

        <div class="row">
            <!-- Sidebar Container -->

            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                <!-- Featured Tags -->
                
                <section>
                    <!-- no hr -->
                    <h5 class="text-center">
                        <a href="/tags/">FEATURED TAGS</a>
                    </h5>
                    <div class="tags">
                        
                    </div>
                </section>
                

                <!-- Friends Blog -->
                
            </div>
        </div>

    </div>
</article>







<!-- Footer -->
<!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 text-center">
                <br>
                <ul class="list-inline text-center">
                
                
                

                

                

                
                    <li>
                        <a target="_blank"  href="https://github.com/imqishi">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                

                

                </ul>
                <p class="copyright text-muted">
                    Copyright &copy; Nick&#39;s Recycle bin 2017
                    <br>
                    <span id="busuanzi_container_site_pv" style="font-size: 12px;">PV: <span id="busuanzi_value_site_pv"></span> Times</span>
                    <br>
                    Theme by <a href="https://haojen.github.io/">Haojen Ma</a>
                </p>

            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js"></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js"></script>

<!-- Custom Theme JavaScript -->
<script src="/js/blog.js"></script>

<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>

<!-- jquery.tagcloud.js -->
<script>
    // only load tagcloud.js in tag.html
    if($('#tag_cloud').length !== 0){
        async("http://blog.imqishi.cn/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                //size: {start: 1, end: 1, unit: 'em'},
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>

<!--fastClick.js -->
<script>
    async("//cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>

<!-- Google Analytics -->



<!-- Baidu Tongji -->


<!-- swiftype -->
<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install','null','2.0.0');
</script>

<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<!--wechat title img-->
<img class="wechat-title-img" src="null">
</body>

</html>
