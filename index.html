<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Nick的回收站</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Nick的回收站">
<meta property="og:url" content="http://blog.imqishi.cn/index.html">
<meta property="og:site_name" content="Nick的回收站">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Nick的回收站">
  
    <link rel="alternate" href="/atom.xml" title="Nick的回收站" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Nick的回收站</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://blog.imqishi.cn"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-今日论文-20170725" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/07/25/今日论文-20170725/" class="article-date">
  <time datetime="2017-07-25T15:07:48.000Z" itemprop="datePublished">2017-07-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/07/25/今日论文-20170725/">今日论文</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="Identification-and-Selection-of-Flow-Features-for-Accurate-Traffic-Classification-in-SDN-2015-IEEE-14th-International-Symposium-on-Network-Computing-and-Applications"><a href="#Identification-and-Selection-of-Flow-Features-for-Accurate-Traffic-Classification-in-SDN-2015-IEEE-14th-International-Symposium-on-Network-Computing-and-Applications" class="headerlink" title="Identification and Selection of Flow Features for Accurate Traffic Classification in SDN - 2015 IEEE 14th International Symposium on Network Computing and Applications"></a>Identification and Selection of Flow Features for Accurate Traffic Classification in SDN - 2015 IEEE 14th International Symposium on Network Computing and Applications</h3><p>我们知道要想利用机器学习进行流分类，必须要利用流的“特征”（feature）以及特征的数量，特征明显、特征数充足为流的精准分类打下了坚实的基础。这篇论文主要讲的就是为了实现精准的流分类扩展、识别、筛选恰当的feature的过程。</p>
<p>SDN提供给我们了一些基本的流信息可以作为feature，比如：包数量、字节数等统计数据。本文对这些数据进行了进一步的扩展，得到了一些经过处理后的数据字段作为新的feature进行测试。</p>
<p>本文提出了一个架构识别、扩展、筛选流feature的集合。筛选的过程主要使用了PCA（主成分分析）和GA（遗传算法）。分类并验证的过程使用了SVM算法。</p>
<p>该架构主要包括两个重要部件：Flow Feature Manager 和 Flow Feature Selector。Manager主要用于从SDN控制器获取流的信息及统计数据，然后发给其内部的Flow Feature Filter组件以获得原生统计数据，然后内部的Statistics Generator利用原生统计数据生成扩展feature并构成Flow Feature Set。生成的features发往 Flow Feature Selector的Formatter组件。Formatter一方面生成训练、测试文件用于流分类，另一方面发到Feature Selector使用PCA、GA筛选这些feature（原生、扩展）。其中扩展Featurew文中提供了一些生成方式，比如均值、极值、方差等。</p>
<p>之后，作者使用三个实验场景进行筛选与结果检验</p>
<table>
<thead>
<tr>
<th>场景</th>
<th>流类型</th>
</tr>
</thead>
<tbody>
<tr>
<td>A</td>
<td>DDoS attacks (60%) with Scapy flow (40%)</td>
</tr>
<tr>
<td>B</td>
<td>FTP traffic (35%) with Scapy flows (65%)</td>
</tr>
<tr>
<td>C</td>
<td>Video streaming (50%) with Scapy flows (50%)</td>
</tr>
</tbody>
</table>
<p>为了获得比较从而获取最优的feature，这个阶段使用了所有的feature进行实验测试，通过测试数据测试找出了遗传算法最佳迭代次数和突变概率，然后进行三种场景下的主要feature筛选。对于PCA则是选择了0.025，0.05，0.1三个factor进行了完整的测试，决定三个factor的出现情况都应该考虑到（简而言之就是完整的跑一遍测试）。</p>
<p>最后通过这两个算法得到了10个影响最厉害的feature并与all feature的情况进行准确度对比。得到的结果是要选择适合的feature分类结果更加准确。</p>
<p>日后进一步的工作是其他服务（流类型）的feature筛选与更多扩展feature的生成与筛选，并考虑分类算法在这之中的重要性，选择更加合适的分类算法以求更高的精度。</p>
<p>阅读时间：2017-07-24 - 07-25</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.imqishi.cn/2017/07/25/今日论文-20170725/" data-id="cj5jpuys3000dzf1ykmyh7ync" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SDN/">SDN</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-论文阅读报告" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/07/19/论文阅读报告/" class="article-date">
  <time datetime="2017-07-19T15:27:13.000Z" itemprop="datePublished">2017-07-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/07/19/论文阅读报告/">论文阅读报告</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>研二将近，为准备毕设开题相关事宜，近期阅读论文、科研学习相关内容如下：</p>
<h3 id="首先是对题目大范围的选定与小范围的划分"><a href="#首先是对题目大范围的选定与小范围的划分" class="headerlink" title="首先是对题目大范围的选定与小范围的划分"></a>首先是对题目大范围的选定与小范围的划分</h3><p>公司方面主要涉及到的工作有DHCP和DNS相关内容，考虑过DHCP的准入策略与设备识别，但是去搜了一下论文一大把，近些年的论文多偏安全方向，感觉可以找的点不多了，DNS也是类似的情况。考虑到中心还研究SDN的相关内容，查了一下SDN发展还不到十年，应该可以做的内容还不少，所以把大的范围划定在了SDN中。大致搜索了SDN\Openflow相关关键字的论文，感觉大概有三个方向：</p>
<ol>
<li>流分类。主要工作是流的识别，可以说所有的都用到了机器学习相关的算法。</li>
<li>性能优化类，如流量调度。和协议关系较紧密。目前只看了一篇，是对网络流量设置阈值，将超过阈值的和不超过的分成两个类进行处理，大的流进行负荷分担，小的流优化了packet-in消息的发送频率，节省带宽。</li>
<li>可视化。还没来得及看，不过看了题目和摘要大概讲的是在Openflow网络上做一个实时的流量监控系统，用到了深度包检测技术和D3js做的。这方面的论文目前只搜到了一篇。</li>
</ol>
<h3 id="目前的进度"><a href="#目前的进度" class="headerlink" title="目前的进度"></a>目前的进度</h3><h4 id="机器学习-分类算法相关：三篇论文"><a href="#机器学习-分类算法相关：三篇论文" class="headerlink" title="机器学习-分类算法相关：三篇论文"></a>机器学习-分类算法相关：三篇论文</h4><p><strong>第一篇</strong>其实和SDN不太一样，是和NFV相关的，讲的是设计了一个系统，可以在保护用户隐私的情况下仅利用流的元信息进行快速的分类操作。核心是他先用了N种（好像是8种）机器学习的分类方法对不同类型的流进行分类，搞了个性能分析，然后搞了一个特征收集器用于对流进行特征收集，根据这些特征和之前的性能分析，“设想”了一个 vTC Controller<em>（注意是设想，他们好像没实现，论文中也没有对如何进行选择进行详细的说明）</em>，可以根据收集到的特征给流选择一个效率最高的分类器（动态学习调整）。这篇论文思路不错，重点写的地方是他们选了一些basic feature和extend feature，然后拿了各种机器学习的算法去做效率评估，但是对于怎么样根据feature去选择合适的分类器没有细致的说明。<strong>这个如果进一步做的话感觉就是实现这个 vTC Controller，是不是要对这些feature进行一个权重的划分然后选择用哪个分类器，这个权重划分怎么做感觉应该可以写点儿东西，流分类应该也要用一些算法兴许能写。</strong></p>
<p><strong>第二篇</strong>则是具体的使用一种算法（谱聚类）进行流分类，并给出了性能分析。是基于云数据中心这一环境进行实验的。因为谱聚类算法是无监督或者半监督的，识别速度比监督型算法快，能够适应云数据中心的大数据量情况下的快速分类工作。但是没有提出future work，感觉是写这类实验的一个小范本吧。</p>
<p><strong>第三篇</strong>写的题目比较大，叫机器学习在SDN中的应用：数据收集和流分类。主要是讲SDN为机器学习在网络方面的应用提供了一个很好的平台，提出了一个简单的应用于企业级网络的架构通过openflow协议同时收集新型和传统型网络的流量数据，使用了监督学习的方法，准确度较高。主要是利用一个支持Openflow的交换机拷贝了一份传统交换机的流量到控制器实现兼容。使用了随机森林、随机梯度上升、极端梯度上升三种算法进行了一个效率对比。并且提出根据不同的网络环境（比如学校）可以进行有针对性的训练数据集以获取更好地效果。<strong>进一步的工作是半监督或者无监督方法在流分类上的探索。</strong></p>
<h4 id="性能优化方面：2017-07-20更新-已看两篇论文"><a href="#性能优化方面：2017-07-20更新-已看两篇论文" class="headerlink" title="性能优化方面：2017-07-20更新 已看两篇论文"></a>性能优化方面：2017-07-20更新 已看两篇论文</h4><p><strong>第一篇</strong>主要是流量调度相关，讲的是如何进行合理的调度使带宽利用率得到有效提高。我们知道SDN中控制器和交换机之间可能会进行频繁的通信（比如flow-entry的下发，未知流量的上报等），通信的过程是会消耗带宽的。这篇论文提供了一种方法可以针对“大流”、“小流”进行优化，降低控制器的负载。对于大流和安全敏感的流通过按需路由（reactive routing）和访问控制规则(access control rule)进行管理，对于小流则用多路模糊路由的方式不触发控制器行为进行转发。其核心是把控制器的负载一部分转移到数据层的交换机上直接进行多路模糊路由，减小对小流的处理，大流才需要进控制器。经过试验验证提高了吞吐量。<strong>进一步的工作是使之适应规模变化的网络，利用访问控制规则管理其他潜在的大流量服务如FTP，以及更加动态的多路模糊路由及按需路由。</strong></p>
<p><strong>第二篇</strong>主要是SDN底层硬件相关。作者提出了一种高性能的流匹配架构加速流匹配，降低匹配成本。传统匹配用到的TCAM部件成本较高，作者把控制器进一步分离为Processer处理控制相关的内容和匹配单元处理匹配相关的内容，定制了处理器，设计了专门的指令集用于Openflow消息处理，外加了一个RAM进行action集的存储，原始TCAM存储了很多的匹配项，而现在存地址，具体内容在RAM中，并利用流水线技术加速匹配的处理。该论文偏硬件，考虑到现有条件，此方向不打算深入研究。</p>
<h4 id="可视化方面：待进行"><a href="#可视化方面：待进行" class="headerlink" title="可视化方面：待进行"></a>可视化方面：待进行</h4><p>感觉这方面比较水，不如前两种有写的。论文待看。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.imqishi.cn/2017/07/19/论文阅读报告/" data-id="cj5jpuys7000hzf1ylko05cfx" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SDN/">SDN</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-OpenDayLight配置" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/07/19/OpenDayLight配置/" class="article-date">
  <time datetime="2017-07-19T15:18:48.000Z" itemprop="datePublished">2017-07-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/07/19/OpenDayLight配置/">SDN基础知识学习-环境配置</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="安装配置ODL"><a href="#安装配置ODL" class="headerlink" title="安装配置ODL"></a>安装配置ODL</h3><ol>
<li>安装Java</li>
<li>官网下载对应的包，并解压</li>
<li>进入解压后的文件夹</li>
<li><code>./bin/karaf</code></li>
<li>安装必要的feature：<code>feature:install odl-l2switch-switch odl-restconf odl-mdsal-all odl-openflowplugin-all odl-dlux-all odl-adsal-northbound</code> 新版本里有可能没有<code>odl-adsal-northbound</code>这个feature，装了<code>odl-mdsal-all</code>就可以了</li>
<li>打开浏览器，输入<code>127.0.0.1:8181/index.html</code>登录Web控制台以便后续查看拓扑等。如果页面404，可以尝试<code>127.0.0.1:8181/index.html#/topology</code>或者<code>127.0.0.1:8181/index.html#/login</code></li>
</ol>
<h3 id="安装配置MN"><a href="#安装配置MN" class="headerlink" title="安装配置MN"></a>安装配置MN</h3><ol>
<li>安装mininet，可直接使用<code>apt-get install mininet</code></li>
<li>在mininet目录下的example文件夹下使用miniedit编辑拓扑：<ol>
<li>控制器方式设置为Remote Controller</li>
<li>使用switch（not Legacy switch）</li>
<li>设置主机ip</li>
<li>连线后Run，看是否有报错。Run前要确定odl控制器是否已开启。若无报错，使用<code>pingall</code>测试连通性。若连通，可以继续进行。在相应设备上右键可以打开相应Terminal。</li>
</ol>
</li>
</ol>
<h5 id="如果miniedit成功Run但是不出来mininet-gt-命令提示符，可以先将拓扑导出为python文件：File–-gt-Export-Level2-Script，然后手动执行python-test-py-进入mininet-gt-界面，使用xterm-h1打开相应设备的Terminal"><a href="#如果miniedit成功Run但是不出来mininet-gt-命令提示符，可以先将拓扑导出为python文件：File–-gt-Export-Level2-Script，然后手动执行python-test-py-进入mininet-gt-界面，使用xterm-h1打开相应设备的Terminal" class="headerlink" title="如果miniedit成功Run但是不出来mininet&gt;命令提示符，可以先将拓扑导出为python文件：File–&gt;Export Level2 Script，然后手动执行python test.py 进入mininet&gt;界面，使用xterm h1打开相应设备的Terminal"></a>如果miniedit成功Run但是不出来<code>mininet&gt;</code>命令提示符，可以先将拓扑导出为python文件：File–&gt;Export Level2 Script，然后手动执行<code>python test.py</code> 进入<code>mininet&gt;</code>界面，使用<code>xterm h1</code>打开相应设备的Terminal</h5><h5 id="如果mininet总是报奇怪的错误，可以尝试在Terminal中使用mn-c清空原有配置，再次运行。"><a href="#如果mininet总是报奇怪的错误，可以尝试在Terminal中使用mn-c清空原有配置，再次运行。" class="headerlink" title="如果mininet总是报奇怪的错误，可以尝试在Terminal中使用mn -c清空原有配置，再次运行。"></a>如果mininet总是报奇怪的错误，可以尝试在Terminal中使用<code>mn -c</code>清空原有配置，再次运行。</h5><h3 id="查看配置、下流表"><a href="#查看配置、下流表" class="headerlink" title="查看配置、下流表"></a>查看配置、下流表</h3><ol>
<li>查看拓扑：可以从Web端查看，或者使用<code>ovs-vsctl show</code>命令</li>
<li>查看流表：<code>ovs-ofctl dump-flows s1</code></li>
<li>下流表</li>
</ol>
<p>利用Postman、<em>PUT方式</em>、<em>Authorization使用Basic，用户密码均为admin</em>。</p>
<p>Headers设置如下：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Accept:application/xml</div><div class="line">Content-Type:applcation/xml</div><div class="line">Postman还会自动生成一个Authorization的域，我们可以不用管它</div></pre></td></tr></table></figure>
<p>Body设置类型为<em>raw</em> 类型 <em>XML(application/xml)</em>，下述为<strong>阻断 </strong> <em>源和目的均为10.0.0.0/24(ipv4-source, ipv4-destination)</em> <em>IPv4(ethernet-type)</em> <em>TCP(ip-protocol)</em> <em>13911目的端口(tcp-destination-port)</em>的流</p>
<p>url为：<a href="http://localhost:8181/restconf/config/opendaylight-inventory:nodes/node/openflow:1/table/0/flow/1" target="_blank" rel="external">http://localhost:8181/restconf/config/opendaylight-inventory:nodes/node/openflow:1/table/0/flow/1</a></p>
<p>注意openflow:后面跟的数字应该是在Web拓扑中看到的openflow:后的数字，初步配置table就是0对应xml文件中的<strong>table_id</strong>，flow后的1对应xml文件中的<strong>id</strong>，xml文件中<strong>flow-name</strong>随便起。像<strong>strict</strong>，<strong>cookie-mask</strong>，<strong>installHw</strong>，<strong>barrier</strong>没有特殊要求都可以先不配。还需要注意的一点是，<strong>priority数值越大优先级越大</strong>。其实匹配规则就是按照ovs-ofctl dump-flows s1从上往下的顺序匹配的。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version="1.0" encoding="UTF-8" standalone="no"?&gt;</div><div class="line"><span class="tag">&lt;<span class="name">flow</span> <span class="attr">xmlns</span>=<span class="string">"urn:opendaylight:flow:inventory"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">strict</span>&gt;</span>false<span class="tag">&lt;/<span class="name">strict</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">match</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">ethernet-match</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">ethernet-type</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">type</span>&gt;</span>2048<span class="tag">&lt;/<span class="name">type</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">ethernet-type</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">ethernet-match</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">ipv4-source</span>&gt;</span>10.0.0.1/24<span class="tag">&lt;/<span class="name">ipv4-source</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">ipv4-destination</span>&gt;</span>10.0.0.3/24<span class="tag">&lt;/<span class="name">ipv4-destination</span>&gt;</span></div><div class="line">         <span class="tag">&lt;<span class="name">ip-match</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">ip-protocol</span>&gt;</span>6<span class="tag">&lt;/<span class="name">ip-protocol</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">ip-match</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">tcp-destination-port</span>&gt;</span>13911<span class="tag">&lt;/<span class="name">tcp-destination-port</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">match</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">table_id</span>&gt;</span>0<span class="tag">&lt;/<span class="name">table_id</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>1<span class="tag">&lt;/<span class="name">id</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">flow-name</span>&gt;</span>flow1<span class="tag">&lt;/<span class="name">flow-name</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">priority</span>&gt;</span>1<span class="tag">&lt;/<span class="name">priority</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">instructions</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">instruction</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">order</span>&gt;</span>0<span class="tag">&lt;/<span class="name">order</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">apply-actions</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">action</span>&gt;</span></div><div class="line">                    <span class="tag">&lt;<span class="name">order</span>&gt;</span>0<span class="tag">&lt;/<span class="name">order</span>&gt;</span></div><div class="line">                    <span class="tag">&lt;<span class="name">drop-action</span>/&gt;</span></div><div class="line">                <span class="tag">&lt;/<span class="name">action</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">apply-actions</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">instruction</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">instructions</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">cookie</span>&gt;</span>3<span class="tag">&lt;/<span class="name">cookie</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">cookie_mask</span>&gt;</span>255<span class="tag">&lt;/<span class="name">cookie_mask</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">installHw</span>&gt;</span>false<span class="tag">&lt;/<span class="name">installHw</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">hard-timeout</span>&gt;</span>1200<span class="tag">&lt;/<span class="name">hard-timeout</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">barrier</span>&gt;</span>false<span class="tag">&lt;/<span class="name">barrier</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">flow</span>&gt;</span></div></pre></td></tr></table></figure>
<p>同理，我们可以将<strong>ip-protoco</strong>l置为<strong>17</strong>，<strong>tcp-destination-port</strong>改为<strong>udp-destination-port</strong>去阻断udp端口</p>
<h3 id="测试工具-iperf简介"><a href="#测试工具-iperf简介" class="headerlink" title="测试工具 iperf简介"></a>测试工具 iperf简介</h3><p>Iperf 是一个网络性能测试工具。Iperf可以测试最大TCP和UDP带宽性能。Iperf具有多种参数和UDP特性，可以根据需要调整。Iperf可以报告带宽，延迟抖动和数据包丢失。</p>
<p>一般测试两台设备之间的连通性。在一台设备上使用<em>server模式</em>，另一台使用<em>client模式</em>。</p>
<p>常用参数：</p>
<p>-s 以server方式运行</p>
<p>-c 10.0.0.1 以client方式，作为10.0.0.1server的client运行</p>
<p>-p 指定端口</p>
<p>-u udp方式（默认是tcp方式）</p>
<h3 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h3><h4 id="以太网类型码"><a href="#以太网类型码" class="headerlink" title="以太网类型码"></a>以太网类型码</h4><table>
<thead>
<tr>
<th><strong>Ethernet</strong></th>
<th><strong>Exp. Ethernet</strong></th>
<th><strong>Description</strong></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>decimal</td>
<td>Hex</td>
<td>decimal</td>
<td>octal</td>
<td></td>
</tr>
<tr>
<td>0000</td>
<td>0000-05DC</td>
<td></td>
<td></td>
<td>IEEE802.3LengthField</td>
</tr>
<tr>
<td>0257</td>
<td>0101-01FF</td>
<td>-</td>
<td>-</td>
<td>Experimental</td>
</tr>
<tr>
<td>0512</td>
<td>0200</td>
<td>512</td>
<td>1000</td>
<td>XEROX PUP (see 0A00)</td>
</tr>
<tr>
<td>0513</td>
<td>0201</td>
<td>-</td>
<td>-</td>
<td>PUP Addr Trans (see 0A01)</td>
</tr>
<tr>
<td></td>
<td>0400</td>
<td>-</td>
<td>-</td>
<td>Nixdorf</td>
</tr>
<tr>
<td>1536</td>
<td>0600</td>
<td>1536</td>
<td>3000</td>
<td>XEROX NS IDP</td>
</tr>
<tr>
<td></td>
<td>0660</td>
<td>-</td>
<td>-</td>
<td>DLOG</td>
</tr>
<tr>
<td></td>
<td>0661</td>
<td>-</td>
<td>-</td>
<td>DLOG</td>
</tr>
<tr>
<td>2048</td>
<td>0800</td>
<td>513</td>
<td>1001</td>
<td>Internet IP (IPv4)</td>
</tr>
<tr>
<td>2049</td>
<td>0801</td>
<td>-</td>
<td>-</td>
<td>X.75 Internet</td>
</tr>
<tr>
<td>2050</td>
<td>0802</td>
<td>-</td>
<td>-</td>
<td>NBS Internet</td>
</tr>
<tr>
<td>2051</td>
<td>0803</td>
<td>-</td>
<td>-</td>
<td>ECMA Internet</td>
</tr>
<tr>
<td>2052</td>
<td>0804</td>
<td>-</td>
<td>-</td>
<td>Chaosnet</td>
</tr>
<tr>
<td>2053</td>
<td>0805</td>
<td>-</td>
<td>-</td>
<td>X.25 Level 3</td>
</tr>
<tr>
<td>2054</td>
<td>0806</td>
<td>-</td>
<td>-</td>
<td>ARP</td>
</tr>
<tr>
<td>2055</td>
<td>0807</td>
<td>-</td>
<td>-</td>
<td>XNS Compatability</td>
</tr>
<tr>
<td>2056</td>
<td>0808</td>
<td>-</td>
<td>-</td>
<td>Frame Relay ARP</td>
</tr>
<tr>
<td>2076</td>
<td>081C</td>
<td>-</td>
<td>-</td>
<td>Symbolics Private</td>
</tr>
<tr>
<td>2184</td>
<td>0888-088A</td>
<td>-</td>
<td>-</td>
<td>Xyplex</td>
</tr>
<tr>
<td>2304</td>
<td>0900</td>
<td>-</td>
<td>-</td>
<td>Ungermann-Bass net debugr</td>
</tr>
<tr>
<td>2560</td>
<td>0A00</td>
<td>-</td>
<td>-</td>
<td>Xerox IEEE802.3 PUP</td>
</tr>
<tr>
<td>2561</td>
<td>0A01</td>
<td>-</td>
<td>-</td>
<td>PUP Addr Trans</td>
</tr>
<tr>
<td>2989</td>
<td>0BAD</td>
<td>-</td>
<td>-</td>
<td>Banyan VINES</td>
</tr>
<tr>
<td>2990</td>
<td>0BAE</td>
<td>-</td>
<td>-</td>
<td>VINES Loopback</td>
</tr>
<tr>
<td>2991</td>
<td>0BAF</td>
<td>-</td>
<td>-</td>
<td>VINES Echo</td>
</tr>
<tr>
<td>4096</td>
<td>1000</td>
<td>-</td>
<td>-</td>
<td>Berkeley Trailer nego</td>
</tr>
<tr>
<td>4097</td>
<td>1001-100F</td>
<td>-</td>
<td>-</td>
<td>Berkeley Trailer encap/IP</td>
</tr>
<tr>
<td>5632</td>
<td>1600</td>
<td>-</td>
<td>-</td>
<td>Valid Systems</td>
</tr>
<tr>
<td>16962</td>
<td>4242</td>
<td>-</td>
<td>-</td>
<td>PCS Basic Block Protocol</td>
</tr>
<tr>
<td>21000</td>
<td>5208</td>
<td>-</td>
<td>-</td>
<td>BBN Simnet</td>
</tr>
<tr>
<td>24576</td>
<td>6000</td>
<td>-</td>
<td>-</td>
<td>DEC Unassigned (Exp.)</td>
</tr>
<tr>
<td>24577</td>
<td>6001</td>
<td>-</td>
<td>-</td>
<td>DEC MOP Dump/Load</td>
</tr>
<tr>
<td>24578</td>
<td>6002</td>
<td>-</td>
<td>-</td>
<td>DEC MOP Remote Console</td>
</tr>
<tr>
<td>24579</td>
<td>6003</td>
<td>-</td>
<td>-</td>
<td>DEC DECNET Phase IV Route</td>
</tr>
<tr>
<td>24580</td>
<td>6004</td>
<td>-</td>
<td>-</td>
<td>DEC LAT</td>
</tr>
<tr>
<td>24581</td>
<td>6005</td>
<td>-</td>
<td>-</td>
<td>DEC Diagnostic Protocol</td>
</tr>
<tr>
<td>24582</td>
<td>6006</td>
<td>-</td>
<td>-</td>
<td>DEC Customer Protocol</td>
</tr>
<tr>
<td>24583</td>
<td>6007</td>
<td>-</td>
<td>-</td>
<td>DEC LAVC, SCA</td>
</tr>
<tr>
<td>24584</td>
<td>6008-6009</td>
<td>-</td>
<td>-</td>
<td>DEC Unassigned</td>
</tr>
<tr>
<td>24586</td>
<td>6010-6014</td>
<td>-</td>
<td>-</td>
<td>3Com Corporation</td>
</tr>
<tr>
<td>25944</td>
<td>6558</td>
<td>-</td>
<td>-</td>
<td>Trans Ether Bridging</td>
</tr>
<tr>
<td>25945</td>
<td>6559</td>
<td>-</td>
<td>-</td>
<td>Raw Frame Relay</td>
</tr>
<tr>
<td>28672</td>
<td>7000</td>
<td>-</td>
<td>-</td>
<td>Ungermann-Bass download</td>
</tr>
<tr>
<td>28674</td>
<td>7002</td>
<td>-</td>
<td>-</td>
<td>Ungermann-Bass dia/loop</td>
</tr>
<tr>
<td>28704</td>
<td>7020-7029</td>
<td>-</td>
<td>-</td>
<td>LRT</td>
</tr>
<tr>
<td>28720</td>
<td>7030</td>
<td>-</td>
<td>-</td>
<td>Proteon</td>
</tr>
<tr>
<td>28724</td>
<td>7034</td>
<td>-</td>
<td>-</td>
<td>Cabletron</td>
</tr>
<tr>
<td>32771</td>
<td>8003</td>
<td>-</td>
<td>-</td>
<td>Cronus VLN</td>
</tr>
<tr>
<td>32772</td>
<td>8004</td>
<td>-</td>
<td>-</td>
<td>Cronus Direct</td>
</tr>
<tr>
<td>32773</td>
<td>8005</td>
<td>-</td>
<td>-</td>
<td>HP Probe</td>
</tr>
<tr>
<td>32774</td>
<td>8006</td>
<td>-</td>
<td>-</td>
<td>Nestar</td>
</tr>
<tr>
<td>32776</td>
<td>8008</td>
<td>-</td>
<td>-</td>
<td>AT&amp;T</td>
</tr>
<tr>
<td>32784</td>
<td>8010</td>
<td>-</td>
<td>-</td>
<td>Excelan</td>
</tr>
<tr>
<td>32787</td>
<td>8013</td>
<td>-</td>
<td>-</td>
<td>SGI diagnostics</td>
</tr>
<tr>
<td>32788</td>
<td>8014</td>
<td>-</td>
<td>-</td>
<td>SGI network games</td>
</tr>
<tr>
<td>32789</td>
<td>8015</td>
<td>-</td>
<td>-</td>
<td>SGI reserved</td>
</tr>
<tr>
<td>32790</td>
<td>8016</td>
<td>-</td>
<td>-</td>
<td>SGI bounce server</td>
</tr>
<tr>
<td>32793</td>
<td>8019</td>
<td>-</td>
<td>-</td>
<td>Apollo Domain</td>
</tr>
<tr>
<td>32815</td>
<td>802E</td>
<td>-</td>
<td>-</td>
<td>Tymshare</td>
</tr>
<tr>
<td>32816</td>
<td>802F</td>
<td>-</td>
<td>-</td>
<td>Tigan, Inc.</td>
</tr>
<tr>
<td>32821</td>
<td>8035</td>
<td>-</td>
<td>-</td>
<td>Reverse ARP</td>
</tr>
<tr>
<td>32822</td>
<td>8036</td>
<td>-</td>
<td>-</td>
<td>Aeonic Systems</td>
</tr>
<tr>
<td>32824</td>
<td>8038</td>
<td>-</td>
<td>-</td>
<td>DEC LANBridge</td>
</tr>
<tr>
<td>32825</td>
<td>8039-803C</td>
<td>-</td>
<td>-</td>
<td>DEC Unassigned</td>
</tr>
<tr>
<td>32829</td>
<td>803D</td>
<td>-</td>
<td>-</td>
<td>DEC Ethernet Encryption</td>
</tr>
<tr>
<td>32830</td>
<td>803E</td>
<td>-</td>
<td>-</td>
<td>DEC Unassigned</td>
</tr>
<tr>
<td>32831</td>
<td>803F</td>
<td>-</td>
<td>-</td>
<td>DEC LAN Traffic Monitor</td>
</tr>
<tr>
<td>32832</td>
<td>8040-8042</td>
<td>-</td>
<td>-</td>
<td>DEC Unassigned</td>
</tr>
<tr>
<td>32836</td>
<td>8044</td>
<td>-</td>
<td>-</td>
<td>Planning Research Corp.</td>
</tr>
<tr>
<td>32838</td>
<td>8046</td>
<td>-</td>
<td>-</td>
<td>AT&amp;T</td>
</tr>
<tr>
<td>32839</td>
<td>8047</td>
<td>-</td>
<td>-</td>
<td>AT&amp;T</td>
</tr>
<tr>
<td>32841</td>
<td>8049</td>
<td>-</td>
<td>-</td>
<td>ExperData</td>
</tr>
<tr>
<td>32859</td>
<td>805B</td>
<td>-</td>
<td>-</td>
<td>Stanford V Kernel exp.</td>
</tr>
<tr>
<td>32860</td>
<td>805C</td>
<td>-</td>
<td>-</td>
<td>Stanford V Kernel prod.</td>
</tr>
<tr>
<td>32861</td>
<td>805D</td>
<td>-</td>
<td>-</td>
<td>Evans &amp; Sutherland</td>
</tr>
<tr>
<td>32864</td>
<td>8060</td>
<td>-</td>
<td>-</td>
<td>Little Machines</td>
</tr>
<tr>
<td>32866</td>
<td>8062</td>
<td>-</td>
<td>-</td>
<td>Counterpoint Computers</td>
</tr>
<tr>
<td>32869</td>
<td>8065</td>
<td>-</td>
<td>-</td>
<td>Univ. of Mass. @A mherst</td>
</tr>
<tr>
<td>32870</td>
<td>8066</td>
<td>-</td>
<td>-</td>
<td>Univ. of Mass. @ Amherst</td>
</tr>
<tr>
<td>32871</td>
<td>8067</td>
<td>-</td>
<td>-</td>
<td>Veeco Integrated Auto.</td>
</tr>
<tr>
<td>32872</td>
<td>8068</td>
<td>-</td>
<td>-</td>
<td>General Dynamics</td>
</tr>
<tr>
<td>32873</td>
<td>8069</td>
<td>-</td>
<td>-</td>
<td>AT&amp;T</td>
</tr>
<tr>
<td>32874</td>
<td>806A</td>
<td>-</td>
<td>-</td>
<td>Autophon</td>
</tr>
<tr>
<td>32876</td>
<td>806C</td>
<td>-</td>
<td>-</td>
<td>ComDesign</td>
</tr>
<tr>
<td>32877</td>
<td>806D</td>
<td>-</td>
<td>-</td>
<td>Computgraphic Corp.</td>
</tr>
<tr>
<td>32878</td>
<td>806E-8077</td>
<td>-</td>
<td>-</td>
<td>Landmark Graphics Corp.</td>
</tr>
<tr>
<td>32890</td>
<td>807A</td>
<td>-</td>
<td>-</td>
<td>Matra</td>
</tr>
<tr>
<td>32891</td>
<td>807B</td>
<td>-</td>
<td>-</td>
<td>Dansk Data Elektronik</td>
</tr>
<tr>
<td>32892</td>
<td>807C</td>
<td>-</td>
<td>-</td>
<td>Merit Internodal</td>
</tr>
<tr>
<td>32893</td>
<td>807D-807F</td>
<td>-</td>
<td>-</td>
<td>Vitalink Communications</td>
</tr>
<tr>
<td>32896</td>
<td>8080</td>
<td>-</td>
<td>-</td>
<td>Vitalink TransLAN III</td>
</tr>
<tr>
<td>32897</td>
<td>8081-8083</td>
<td>-</td>
<td>-</td>
<td>Counterpoint Computers</td>
</tr>
<tr>
<td>32923</td>
<td>809B</td>
<td>-</td>
<td>-</td>
<td>Appletalk</td>
</tr>
<tr>
<td>32924</td>
<td>809C-809E</td>
<td>-</td>
<td>-</td>
<td>Datability</td>
</tr>
<tr>
<td>32927</td>
<td>809F</td>
<td>-</td>
<td>-</td>
<td>Spider Systems Ltd.</td>
</tr>
<tr>
<td>32931</td>
<td>80A3</td>
<td>-</td>
<td>-</td>
<td>Nixdorf Computers</td>
</tr>
<tr>
<td>32932</td>
<td>80A4-80B3</td>
<td>-</td>
<td>-</td>
<td>Siemens Gammasonics Inc.</td>
</tr>
<tr>
<td>32960</td>
<td>80C0-80C3</td>
<td>-</td>
<td>-</td>
<td>DCA Data Exchange Cluster</td>
</tr>
<tr>
<td>32964</td>
<td>80C4</td>
<td>-</td>
<td>-</td>
<td>Banyan Systems</td>
</tr>
<tr>
<td>32965</td>
<td>80C5</td>
<td>-</td>
<td>-</td>
<td>Banyan Systems</td>
</tr>
<tr>
<td>32966</td>
<td>80C6</td>
<td>-</td>
<td>-</td>
<td>Pacer Software</td>
</tr>
<tr>
<td>32967</td>
<td>80C7</td>
<td>-</td>
<td>-</td>
<td>Applitek Corporation</td>
</tr>
<tr>
<td>32968</td>
<td>80C8-80CC</td>
<td>-</td>
<td>-</td>
<td>Intergraph Corporation</td>
</tr>
<tr>
<td>32973</td>
<td>80CD-80CE</td>
<td>-</td>
<td>-</td>
<td>Harris Corporation</td>
</tr>
<tr>
<td>32975</td>
<td>80CF-80D2</td>
<td>-</td>
<td>-</td>
<td>Taylor Instrument</td>
</tr>
<tr>
<td>32979</td>
<td>80D3-80D4</td>
<td>-</td>
<td>-</td>
<td>Rosemount Corporation</td>
</tr>
<tr>
<td>32981</td>
<td>80D5</td>
<td>-</td>
<td>-</td>
<td>IBM SNA Service on Ether</td>
</tr>
<tr>
<td>32989</td>
<td>80DD</td>
<td>-</td>
<td>-</td>
<td>Varian Associates</td>
</tr>
<tr>
<td>32990</td>
<td>80DE-80DF</td>
<td>-</td>
<td>-</td>
<td>Integrated Solutions TRFS</td>
</tr>
<tr>
<td>32992</td>
<td>80E0-80E3</td>
<td>-</td>
<td>-</td>
<td>Allen-Bradley</td>
</tr>
<tr>
<td>32996</td>
<td>80E4-80F0</td>
<td>-</td>
<td>-</td>
<td>Datability</td>
</tr>
<tr>
<td>33010</td>
<td>80F2</td>
<td>-</td>
<td>-</td>
<td>Retix</td>
</tr>
<tr>
<td>33011</td>
<td>80F3</td>
<td>-</td>
<td>-</td>
<td>AppleTalk AARP (Kinetics)</td>
</tr>
<tr>
<td>33012</td>
<td>80F4-80F5</td>
<td>-</td>
<td>-</td>
<td>Kinetics</td>
</tr>
<tr>
<td>33015</td>
<td>80F7</td>
<td>-</td>
<td>-</td>
<td>Apollo Computer</td>
</tr>
<tr>
<td>33023</td>
<td>80FF-8103</td>
<td>-</td>
<td>-</td>
<td>Wellfleet Communications</td>
</tr>
<tr>
<td>33031</td>
<td>8107-8109</td>
<td>-</td>
<td>-</td>
<td>Symbolics Private</td>
</tr>
<tr>
<td>33072</td>
<td>8130</td>
<td>-</td>
<td>-</td>
<td>Hayes Microcomputers</td>
</tr>
<tr>
<td>33073</td>
<td>8131</td>
<td>-</td>
<td>-</td>
<td>VG Laboratory Systems</td>
</tr>
<tr>
<td>33074</td>
<td>8132-8136</td>
<td>-</td>
<td>-</td>
<td>Bridge Communications</td>
</tr>
<tr>
<td>33079</td>
<td>8137-8138</td>
<td>-</td>
<td>-</td>
<td>Novell, Inc.</td>
</tr>
<tr>
<td>33081</td>
<td>8139-813D</td>
<td>-</td>
<td>-</td>
<td>KTI</td>
</tr>
<tr>
<td></td>
<td>8148</td>
<td>-</td>
<td>-</td>
<td>Logicraft</td>
</tr>
<tr>
<td></td>
<td>8149</td>
<td>-</td>
<td>-</td>
<td>Network Computing Devices</td>
</tr>
<tr>
<td></td>
<td>814A</td>
<td>-</td>
<td>-</td>
<td>Alpha Micro</td>
</tr>
<tr>
<td>33100</td>
<td>814C</td>
<td>-</td>
<td>-</td>
<td>- SNMP</td>
</tr>
<tr>
<td></td>
<td>814D</td>
<td>-</td>
<td>-</td>
<td>BIIN</td>
</tr>
<tr>
<td></td>
<td>814E</td>
<td>-</td>
<td>-</td>
<td>BIIN</td>
</tr>
<tr>
<td></td>
<td>814F</td>
<td>-</td>
<td>-</td>
<td>Technically Elite Concept</td>
</tr>
<tr>
<td></td>
<td>8150</td>
<td>-</td>
<td>-</td>
<td>Rational Corp</td>
</tr>
<tr>
<td></td>
<td>8151-8153</td>
<td>-</td>
<td>-</td>
<td>Qualcomm</td>
</tr>
<tr>
<td></td>
<td>815C-815E</td>
<td>-</td>
<td>-</td>
<td>Computer Protocol Pty Ltd</td>
</tr>
<tr>
<td></td>
<td>8164-8166</td>
<td>-</td>
<td>-</td>
<td>Charles River Data System</td>
</tr>
<tr>
<td></td>
<td>817D</td>
<td>-</td>
<td>-</td>
<td>XTP</td>
</tr>
<tr>
<td></td>
<td>817E</td>
<td>-</td>
<td>-</td>
<td>SGI/Time Warner prop.</td>
</tr>
<tr>
<td></td>
<td>8180</td>
<td>-</td>
<td>-</td>
<td>HIPPI-FP encapsulation</td>
</tr>
<tr>
<td></td>
<td>8181</td>
<td>-</td>
<td>-</td>
<td>STP, HIPPI-ST</td>
</tr>
<tr>
<td></td>
<td>8182</td>
<td>-</td>
<td>-</td>
<td>Reserved for HIPPI-6400</td>
</tr>
<tr>
<td></td>
<td>8183</td>
<td>-</td>
<td>-</td>
<td>Reserved for HIPPI-6400</td>
</tr>
<tr>
<td></td>
<td>8184-818C</td>
<td>-</td>
<td>-</td>
<td>Silicon Graphics prop.</td>
</tr>
<tr>
<td></td>
<td>818D</td>
<td>-</td>
<td>-</td>
<td>Motorola Computer</td>
</tr>
<tr>
<td></td>
<td>819A-81A3</td>
<td>-</td>
<td>-</td>
<td>Qualcomm</td>
</tr>
<tr>
<td></td>
<td>81A4</td>
<td>-</td>
<td>-</td>
<td>ARAI Bunkichi</td>
</tr>
<tr>
<td></td>
<td>81A5-81AE</td>
<td>-</td>
<td>-</td>
<td>RAD Network Devices</td>
</tr>
<tr>
<td></td>
<td>81B7-81B9</td>
<td>-</td>
<td>-</td>
<td>Xyplex</td>
</tr>
<tr>
<td></td>
<td>81CC-81D5</td>
<td>-</td>
<td>-</td>
<td>Apricot Computers</td>
</tr>
<tr>
<td></td>
<td>81D6-81DD</td>
<td>-</td>
<td>-</td>
<td>Artisoft</td>
</tr>
<tr>
<td></td>
<td>81E6-81EF</td>
<td>-</td>
<td>-</td>
<td>Polygon</td>
</tr>
<tr>
<td></td>
<td>81F0-81F2</td>
<td>-</td>
<td>-</td>
<td>Comsat Labs</td>
</tr>
<tr>
<td></td>
<td>81F3-81F5</td>
<td>-</td>
<td>-</td>
<td>SAIC</td>
</tr>
<tr>
<td></td>
<td>81F6-81F8</td>
<td>-</td>
<td>-</td>
<td>VG Analytical</td>
</tr>
<tr>
<td></td>
<td>8203-8205</td>
<td>-</td>
<td>-</td>
<td>Quantum Software</td>
</tr>
<tr>
<td></td>
<td>8221-8222</td>
<td>-</td>
<td>-</td>
<td>Ascom Banking Systems</td>
</tr>
<tr>
<td></td>
<td>823E-8240</td>
<td>-</td>
<td>-</td>
<td>Advanced Encryption Syste</td>
</tr>
<tr>
<td></td>
<td>827F-8282</td>
<td>-</td>
<td>-</td>
<td>Athena Programming</td>
</tr>
<tr>
<td></td>
<td>8263-826A</td>
<td>-</td>
<td>-</td>
<td>Charles River Data System</td>
</tr>
<tr>
<td></td>
<td>829A-829B</td>
<td>-</td>
<td>-</td>
<td>Inst Ind Info Tech</td>
</tr>
<tr>
<td></td>
<td>829C-82AB</td>
<td>-</td>
<td>-</td>
<td>Taurus Controls</td>
</tr>
<tr>
<td></td>
<td>82AC-8693</td>
<td>-</td>
<td>-</td>
<td>Walker Richer &amp; Quinn</td>
</tr>
<tr>
<td></td>
<td>8694-869D</td>
<td>-</td>
<td>-</td>
<td>Idea Courier</td>
</tr>
<tr>
<td></td>
<td>869E-86A1</td>
<td>-</td>
<td>-</td>
<td>Computer Network Tech</td>
</tr>
<tr>
<td></td>
<td>86A3-86AC</td>
<td>-</td>
<td>-</td>
<td>Gateway Communications</td>
</tr>
<tr>
<td></td>
<td>86DB</td>
<td>-</td>
<td>-</td>
<td>SECTRA</td>
</tr>
<tr>
<td></td>
<td>86DE</td>
<td>-</td>
<td>-</td>
<td>Delta Controls</td>
</tr>
<tr>
<td></td>
<td>86DD</td>
<td>-</td>
<td>-</td>
<td>IPv6</td>
</tr>
<tr>
<td>34543</td>
<td>86DF</td>
<td>-</td>
<td>-</td>
<td>ATOMIC</td>
</tr>
<tr>
<td></td>
<td>86E0-86EF</td>
<td>-</td>
<td>-</td>
<td>Landis &amp; Gyr Powers</td>
</tr>
<tr>
<td></td>
<td>8700-8710</td>
<td>-</td>
<td>-</td>
<td>Motorola</td>
</tr>
<tr>
<td>34667</td>
<td>876B</td>
<td>-</td>
<td>-</td>
<td>TCP/IP Compression</td>
</tr>
<tr>
<td>34668</td>
<td>876C</td>
<td>-</td>
<td>-</td>
<td>IP Autonomous Systems</td>
</tr>
<tr>
<td>34669</td>
<td>876D</td>
<td>-</td>
<td>-</td>
<td>Secure Data</td>
</tr>
<tr>
<td></td>
<td>880B</td>
<td>-</td>
<td>-</td>
<td>PPP</td>
</tr>
<tr>
<td></td>
<td>8847</td>
<td>-</td>
<td>-</td>
<td>MPLS Unicast</td>
</tr>
<tr>
<td></td>
<td>8848</td>
<td>-</td>
<td>-</td>
<td>MPLS Multicast</td>
</tr>
<tr>
<td></td>
<td>8A96-8A97</td>
<td>-</td>
<td>-</td>
<td>Invisible Software</td>
</tr>
<tr>
<td>36864</td>
<td>9000</td>
<td>-</td>
<td>-</td>
<td>Loopback</td>
</tr>
<tr>
<td>36865</td>
<td>9001</td>
<td>-</td>
<td>-</td>
<td>3Com(Bridge) XNS Sys Mgmt</td>
</tr>
<tr>
<td>36866</td>
<td>9002</td>
<td>-</td>
<td>-</td>
<td>3Com(Bridge) TCP-IP Sys</td>
</tr>
<tr>
<td>36867</td>
<td>9003</td>
<td>-</td>
<td>-</td>
<td>3Com(Bridge) loop detect</td>
</tr>
<tr>
<td>65280</td>
<td>FF00</td>
<td>-</td>
<td>-</td>
<td>BBN VITAL-LanBridge cache</td>
</tr>
<tr>
<td></td>
<td>FF00-FF0F</td>
<td>-</td>
<td>-</td>
<td>ISC Bunker Ramo</td>
</tr>
<tr>
<td>65535</td>
<td>FFFF</td>
<td>-</td>
<td>-</td>
<td>Reserved</td>
</tr>
</tbody>
</table>
<h4 id="IP-Protocol-number与各协议对应表"><a href="#IP-Protocol-number与各协议对应表" class="headerlink" title="IP Protocol number与各协议对应表"></a>IP Protocol number与各协议对应表</h4><table>
<thead>
<tr>
<th>十进制</th>
<th>十六进制</th>
<th>关键字</th>
<th>协议</th>
<th>引用</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>0x00</td>
<td>HOPOPT</td>
<td>IPv6逐跳选项</td>
<td><a href="https://tools.ietf.org/html/rfc2460" target="_blank" rel="external">RFC 2460</a></td>
</tr>
<tr>
<td>1</td>
<td>0x01</td>
<td>ICMP</td>
<td><a href="https://zh.wikipedia.org/wiki/%E4%BA%92%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E6%B6%88%E6%81%AF%E5%8D%8F%E8%AE%AE" target="_blank" rel="external">互联网控制消息协议</a></td>
<td><a href="https://tools.ietf.org/html/rfc792" target="_blank" rel="external">RFC 792</a></td>
</tr>
<tr>
<td>2</td>
<td>0x02</td>
<td>IGMP</td>
<td><a href="https://zh.wikipedia.org/wiki/%E5%9B%A0%E7%89%B9%E7%BD%91%E7%BB%84%E7%AE%A1%E7%90%86%E5%8D%8F%E8%AE%AE" target="_blank" rel="external">因特网组管理协议</a></td>
<td><a href="https://tools.ietf.org/html/rfc1112" target="_blank" rel="external">RFC 1112</a></td>
</tr>
<tr>
<td>3</td>
<td>0x03</td>
<td>GGP</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=%E7%BD%91%E5%85%B3%E5%AF%B9%E7%BD%91%E5%85%B3%E5%8D%8F%E8%AE%AE&amp;action=edit&amp;redlink=1" target="_blank" rel="external">网关对网关协议</a></td>
<td><a href="https://tools.ietf.org/html/rfc823" target="_blank" rel="external">RFC 823</a></td>
</tr>
<tr>
<td>4</td>
<td>0x04</td>
<td>IPv4</td>
<td><a href="https://zh.wikipedia.org/wiki/IPv4" target="_blank" rel="external">IPv4</a> (封装)</td>
<td><a href="https://tools.ietf.org/html/rfc791" target="_blank" rel="external">RFC 791</a></td>
</tr>
<tr>
<td>5</td>
<td>0x05</td>
<td>ST</td>
<td><a href="https://zh.wikipedia.org/wiki/%E5%9B%A0%E7%89%B9%E7%BD%91%E6%B5%81%E5%8D%8F%E8%AE%AE" target="_blank" rel="external">因特网流协议</a></td>
<td><a href="https://tools.ietf.org/html/rfc1190" target="_blank" rel="external">RFC 1190</a>, <a href="https://tools.ietf.org/html/rfc1819" target="_blank" rel="external">RFC 1819</a></td>
</tr>
<tr>
<td>6</td>
<td>0x06</td>
<td>TCP</td>
<td><a href="https://zh.wikipedia.org/wiki/%E4%BC%A0%E8%BE%93%E6%8E%A7%E5%88%B6%E5%8D%8F%E8%AE%AE" target="_blank" rel="external">传输控制协议</a></td>
<td><a href="https://tools.ietf.org/html/rfc793" target="_blank" rel="external">RFC 793</a></td>
</tr>
<tr>
<td>7</td>
<td>0x07</td>
<td>CBT</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=%E6%9C%89%E6%A0%B8%E6%A0%91%E7%BB%84%E6%92%AD%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE&amp;action=edit&amp;redlink=1" target="_blank" rel="external">有核树组播路由协议</a></td>
<td><a href="https://tools.ietf.org/html/rfc2189" target="_blank" rel="external">RFC 2189</a></td>
</tr>
<tr>
<td>8</td>
<td>0x08</td>
<td>EGP</td>
<td><a href="https://zh.wikipedia.org/wiki/%E5%A4%96%E9%83%A8%E7%BD%91%E5%85%B3%E5%8D%8F%E8%AE%AE" target="_blank" rel="external">外部网关协议</a></td>
<td><a href="https://tools.ietf.org/html/rfc888" target="_blank" rel="external">RFC 888</a></td>
</tr>
<tr>
<td>9</td>
<td>0x09</td>
<td>IGP</td>
<td><a href="https://zh.wikipedia.org/wiki/%E5%86%85%E9%83%A8%E7%BD%91%E5%85%B3%E5%8D%8F%E8%AE%AE" target="_blank" rel="external">内部网关协议</a>（任意私有内部网关（用于思科的IGRP））</td>
<td></td>
</tr>
<tr>
<td>10</td>
<td>0x0A</td>
<td>BBN-RCC-MON</td>
<td>BBN RCC 监视</td>
<td></td>
</tr>
<tr>
<td>11</td>
<td>0x0B</td>
<td>NVP-II</td>
<td><a href="https://zh.wikipedia.org/wiki/%E7%BD%91%E7%BB%9C%E8%AF%AD%E9%9F%B3%E5%8D%8F%E8%AE%AE" target="_blank" rel="external">网络语音协议</a></td>
<td><a href="https://tools.ietf.org/html/rfc741" target="_blank" rel="external">RFC 741</a></td>
</tr>
<tr>
<td>12</td>
<td>0x0C</td>
<td>PUP</td>
<td>Xerox <a href="https://zh.wikipedia.org/w/index.php?title=PUP&amp;action=edit&amp;redlink=1" target="_blank" rel="external">PUP</a></td>
<td></td>
</tr>
<tr>
<td>13</td>
<td>0x0D</td>
<td>ARGUS</td>
<td>ARGUS</td>
<td></td>
</tr>
<tr>
<td>14</td>
<td>0x0E</td>
<td>EMCON</td>
<td>EMCON</td>
<td></td>
</tr>
<tr>
<td>15</td>
<td>0x0F</td>
<td>XNET</td>
<td>Cross Net Debugger</td>
<td>IEN 158</td>
</tr>
<tr>
<td>16</td>
<td>0x10</td>
<td>CHAOS</td>
<td>Chaos</td>
<td></td>
</tr>
<tr>
<td>17</td>
<td>0x11</td>
<td>UDP</td>
<td><a href="https://zh.wikipedia.org/wiki/%E7%94%A8%E6%88%B7%E6%95%B0%E6%8D%AE%E6%8A%A5%E5%8D%8F%E8%AE%AE" target="_blank" rel="external">用户数据报协议</a></td>
<td><a href="https://tools.ietf.org/html/rfc768" target="_blank" rel="external">RFC 768</a></td>
</tr>
<tr>
<td>18</td>
<td>0x12</td>
<td>MUX</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=Multiplexing&amp;action=edit&amp;redlink=1" target="_blank" rel="external">Multiplexing</a></td>
<td>IEN 90</td>
</tr>
<tr>
<td>19</td>
<td>0x13</td>
<td>DCN-MEAS</td>
<td>DCN Measurement Subsystems</td>
<td></td>
</tr>
<tr>
<td>20</td>
<td>0x14</td>
<td>HMP</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=Host_Monitoring_Protocol&amp;action=edit&amp;redlink=1" target="_blank" rel="external">Host Monitoring Protocol</a></td>
<td><a href="https://tools.ietf.org/html/rfc869" target="_blank" rel="external">RFC 869</a></td>
</tr>
<tr>
<td>21</td>
<td>0x15</td>
<td>PRM</td>
<td>Packet Radio Measurement</td>
<td></td>
</tr>
<tr>
<td>22</td>
<td>0x16</td>
<td>XNS-IDP</td>
<td>XEROX NS IDP</td>
<td></td>
</tr>
<tr>
<td>23</td>
<td>0x17</td>
<td>TRUNK-1</td>
<td>Trunk-1</td>
<td></td>
</tr>
<tr>
<td>24</td>
<td>0x18</td>
<td>TRUNK-2</td>
<td>Trunk-2</td>
<td></td>
</tr>
<tr>
<td>25</td>
<td>0x19</td>
<td>LEAF-1</td>
<td>Leaf-1</td>
<td></td>
</tr>
<tr>
<td>26</td>
<td>0x1A</td>
<td>LEAF-2</td>
<td>Leaf-2</td>
<td></td>
</tr>
<tr>
<td>27</td>
<td>0x1B</td>
<td>RDP</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=Reliable_Datagram_Protocol&amp;action=edit&amp;redlink=1" target="_blank" rel="external">Reliable Datagram Protocol</a></td>
<td><a href="https://tools.ietf.org/html/rfc908" target="_blank" rel="external">RFC 908</a></td>
</tr>
<tr>
<td>28</td>
<td>0x1C</td>
<td>IRTP</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=Internet_Reliable_Transaction_Protocol&amp;action=edit&amp;redlink=1" target="_blank" rel="external">Internet Reliable Transaction Protocol</a></td>
<td><a href="https://tools.ietf.org/html/rfc938" target="_blank" rel="external">RFC 938</a></td>
</tr>
<tr>
<td>29</td>
<td>0x1D</td>
<td>ISO-TP4</td>
<td>ISO Transport Protocol Class 4</td>
<td><a href="https://tools.ietf.org/html/rfc905" target="_blank" rel="external">RFC 905</a></td>
</tr>
<tr>
<td>30</td>
<td>0x1E</td>
<td>NETBLT</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=Bulk_Data_Transfer_Protocol&amp;action=edit&amp;redlink=1" target="_blank" rel="external">Bulk Data Transfer Protocol</a></td>
<td><a href="https://tools.ietf.org/html/rfc998" target="_blank" rel="external">RFC 998</a></td>
</tr>
<tr>
<td>31</td>
<td>0x1F</td>
<td>MFE-NSP</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=MFE_Network_Services_Protocol&amp;action=edit&amp;redlink=1" target="_blank" rel="external">MFE Network Services Protocol</a></td>
<td></td>
</tr>
<tr>
<td>32</td>
<td>0x20</td>
<td>MERIT-INP</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=MERIT_Internodal_Protocol&amp;action=edit&amp;redlink=1" target="_blank" rel="external">MERIT Internodal Protocol</a></td>
<td></td>
</tr>
<tr>
<td>33</td>
<td>0x21</td>
<td>DCCP</td>
<td><a href="https://zh.wikipedia.org/wiki/Datagram_Congestion_Control_Protocol" target="_blank" rel="external">Datagram Congestion Control Protocol</a></td>
<td><a href="https://tools.ietf.org/html/rfc4340" target="_blank" rel="external">RFC 4340</a></td>
</tr>
<tr>
<td>34</td>
<td>0x22</td>
<td>3PC</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=Third_Party_Connect_Protocol&amp;action=edit&amp;redlink=1" target="_blank" rel="external">Third Party Connect Protocol</a></td>
<td></td>
</tr>
<tr>
<td>35</td>
<td>0x23</td>
<td>IDPR</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=Inter-Domain_Policy_Routing_Protocol&amp;action=edit&amp;redlink=1" target="_blank" rel="external">Inter-Domain Policy Routing Protocol</a></td>
<td><a href="https://tools.ietf.org/html/rfc1479" target="_blank" rel="external">RFC 1479</a></td>
</tr>
<tr>
<td>36</td>
<td>0x24</td>
<td>XTP</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=Xpress_Transport_Protocol&amp;action=edit&amp;redlink=1" target="_blank" rel="external">Xpress Transport Protocol</a></td>
<td></td>
</tr>
<tr>
<td>37</td>
<td>0x25</td>
<td>DDP</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=Datagram_Delivery_Protocol&amp;action=edit&amp;redlink=1" target="_blank" rel="external">Datagram Delivery Protocol</a></td>
<td></td>
</tr>
<tr>
<td>38</td>
<td>0x26</td>
<td>IDPR-CMTP</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=IDPR_Control_Message_Transport_Protocol&amp;action=edit&amp;redlink=1" target="_blank" rel="external">IDPR Control Message Transport Protocol</a></td>
<td></td>
</tr>
<tr>
<td>39</td>
<td>0x27</td>
<td>TP++</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=TP%2B%2B_Transport_Protocol&amp;action=edit&amp;redlink=1" target="_blank" rel="external">TP++ Transport Protocol</a></td>
<td></td>
</tr>
<tr>
<td>40</td>
<td>0x28</td>
<td>IL</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=IL_(network_protocol" target="_blank" rel="external">IL Transport Protocol</a>&amp;action=edit&amp;redlink=1)</td>
<td></td>
</tr>
<tr>
<td>41</td>
<td>0x29</td>
<td>IPv6</td>
<td>IPv6 Encapsulation</td>
<td><a href="https://tools.ietf.org/html/rfc2473" target="_blank" rel="external">RFC 2473</a></td>
</tr>
<tr>
<td>42</td>
<td>0x2A</td>
<td>SDRP</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=Source_Demand_Routing_Protocol&amp;action=edit&amp;redlink=1" target="_blank" rel="external">Source Demand Routing Protocol</a></td>
<td><a href="https://tools.ietf.org/html/rfc1940" target="_blank" rel="external">RFC 1940</a></td>
</tr>
<tr>
<td>43</td>
<td>0x2B</td>
<td>IPv6-Route</td>
<td>Routing Header for <a href="https://zh.wikipedia.org/wiki/IPv6" target="_blank" rel="external">IPv6</a></td>
<td><a href="https://tools.ietf.org/html/rfc2460" target="_blank" rel="external">RFC 2460</a></td>
</tr>
<tr>
<td>44</td>
<td>0x2C</td>
<td>IPv6-Frag</td>
<td>Fragment Header for <a href="https://zh.wikipedia.org/wiki/IPv6" target="_blank" rel="external">IPv6</a></td>
<td><a href="https://tools.ietf.org/html/rfc2460" target="_blank" rel="external">RFC 2460</a></td>
</tr>
<tr>
<td>45</td>
<td>0x2D</td>
<td>IDRP</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=Inter-Domain_Routing_Protocol&amp;action=edit&amp;redlink=1" target="_blank" rel="external">Inter-Domain Routing Protocol</a></td>
<td></td>
</tr>
<tr>
<td>46</td>
<td>0x2E</td>
<td>RSVP</td>
<td><a href="https://zh.wikipedia.org/wiki/Resource_Reservation_Protocol" target="_blank" rel="external">Resource Reservation Protocol</a></td>
<td><a href="https://tools.ietf.org/html/rfc2205" target="_blank" rel="external">RFC 2205</a></td>
</tr>
<tr>
<td>47</td>
<td>0x2F</td>
<td>GRE</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=Generic_Routing_Encapsulation&amp;action=edit&amp;redlink=1" target="_blank" rel="external">Generic Routing Encapsulation</a></td>
<td><a href="https://tools.ietf.org/html/rfc2784" target="_blank" rel="external">RFC 2784</a>, <a href="https://tools.ietf.org/html/rfc2890" target="_blank" rel="external">RFC 2890</a></td>
</tr>
<tr>
<td>48</td>
<td>0x30</td>
<td>MHRP</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=Mobile_Host_Routing_Protocol&amp;action=edit&amp;redlink=1" target="_blank" rel="external">Mobile Host Routing Protocol</a></td>
<td></td>
</tr>
<tr>
<td>49</td>
<td>0x31</td>
<td>BNA</td>
<td>BNA</td>
<td></td>
</tr>
<tr>
<td>50</td>
<td>0x32</td>
<td>ESP</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=Encapsulating_Security_Payload&amp;action=edit&amp;redlink=1" target="_blank" rel="external">Encapsulating Security Payload</a></td>
<td><a href="https://tools.ietf.org/html/rfc4303" target="_blank" rel="external">RFC 4303</a></td>
</tr>
<tr>
<td>51</td>
<td>0x33</td>
<td>AH</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=Authentication_Header&amp;action=edit&amp;redlink=1" target="_blank" rel="external">Authentication Header</a></td>
<td><a href="https://tools.ietf.org/html/rfc4302" target="_blank" rel="external">RFC 4302</a></td>
</tr>
<tr>
<td>52</td>
<td>0x34</td>
<td>I-NLSP</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=Integrated_Net_Layer_Security_Protocol&amp;action=edit&amp;redlink=1" target="_blank" rel="external">Integrated Net Layer Security Protocol</a></td>
<td>TUBA</td>
</tr>
<tr>
<td>53</td>
<td>0x35</td>
<td>SWIPE</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=SwIPe_(protocol" target="_blank" rel="external">SwIPe</a>&amp;action=edit&amp;redlink=1)</td>
<td>IP with Encryption</td>
</tr>
<tr>
<td>54</td>
<td>0x36</td>
<td>NARP</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=NBMA_Address_Resolution_Protocol&amp;action=edit&amp;redlink=1" target="_blank" rel="external">NBMA Address Resolution Protocol</a></td>
<td><a href="https://tools.ietf.org/html/rfc1735" target="_blank" rel="external">RFC 1735</a></td>
</tr>
<tr>
<td>55</td>
<td>0x37</td>
<td>MOBILE</td>
<td><a href="https://zh.wikipedia.org/wiki/Mobile_IP" target="_blank" rel="external">IP Mobility</a> (Min Encap)</td>
<td><a href="https://tools.ietf.org/html/rfc2004" target="_blank" rel="external">RFC 2004</a></td>
</tr>
<tr>
<td>56</td>
<td>0x38</td>
<td>TLSP</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=Transport_Layer_Security_Protocol&amp;action=edit&amp;redlink=1" target="_blank" rel="external">Transport Layer Security Protocol</a> (using Kryptonet key management)</td>
<td></td>
</tr>
<tr>
<td>57</td>
<td>0x39</td>
<td>SKIP</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=Simple_Key-Management_for_Internet_Protocol&amp;action=edit&amp;redlink=1" target="_blank" rel="external">Simple Key-Management for Internet Protocol</a></td>
<td><a href="https://tools.ietf.org/html/rfc2356" target="_blank" rel="external">RFC 2356</a></td>
</tr>
<tr>
<td>58</td>
<td>0x3A</td>
<td>IPv6-ICMP</td>
<td><a href="https://zh.wikipedia.org/wiki/ICMPv6" target="_blank" rel="external">ICMP for IPv6</a></td>
<td><a href="https://tools.ietf.org/html/rfc4443" target="_blank" rel="external">RFC 4443</a>, <a href="https://tools.ietf.org/html/rfc4884" target="_blank" rel="external">RFC 4884</a></td>
</tr>
<tr>
<td>59</td>
<td>0x3B</td>
<td>IPv6-NoNxt</td>
<td>No Next Header for <a href="https://zh.wikipedia.org/wiki/IPv6" target="_blank" rel="external">IPv6</a></td>
<td><a href="https://tools.ietf.org/html/rfc2460" target="_blank" rel="external">RFC 2460</a></td>
</tr>
<tr>
<td>60</td>
<td>0x3C</td>
<td>IPv6-Opts</td>
<td>Destination Options for <a href="https://zh.wikipedia.org/wiki/IPv6" target="_blank" rel="external">IPv6</a></td>
<td><a href="https://tools.ietf.org/html/rfc2460" target="_blank" rel="external">RFC 2460</a></td>
</tr>
<tr>
<td>61</td>
<td>0x3D</td>
<td></td>
<td>Any host internal protocol</td>
<td></td>
</tr>
<tr>
<td>62</td>
<td>0x3E</td>
<td>CFTP</td>
<td>CFTP</td>
<td></td>
</tr>
<tr>
<td>63</td>
<td>0x3F</td>
<td></td>
<td>Any local network</td>
<td></td>
</tr>
<tr>
<td>64</td>
<td>0x40</td>
<td>SAT-EXPAK</td>
<td>SATNET and Backroom EXPAK</td>
<td></td>
</tr>
<tr>
<td>65</td>
<td>0x41</td>
<td>KRYPTOLAN</td>
<td>Kryptolan</td>
<td></td>
</tr>
<tr>
<td>66</td>
<td>0x42</td>
<td>RVD</td>
<td>MIT <a href="https://zh.wikipedia.org/w/index.php?title=Remote_Virtual_Disk_Protocol&amp;action=edit&amp;redlink=1" target="_blank" rel="external">Remote Virtual Disk Protocol</a></td>
<td></td>
</tr>
<tr>
<td>67</td>
<td>0x43</td>
<td>IPPC</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=Internet_Pluribus_Packet_Core&amp;action=edit&amp;redlink=1" target="_blank" rel="external">Internet Pluribus Packet Core</a></td>
<td></td>
</tr>
<tr>
<td>68</td>
<td>0x44</td>
<td></td>
<td>Any distributed file system</td>
<td></td>
</tr>
<tr>
<td>69</td>
<td>0x45</td>
<td>SAT-MON</td>
<td>SATNET Monitoring</td>
<td></td>
</tr>
<tr>
<td>70</td>
<td>0x46</td>
<td>VISA</td>
<td>VISA Protocol</td>
<td></td>
</tr>
<tr>
<td>71</td>
<td>0x47</td>
<td>IPCV</td>
<td>Internet Packet Core Utility</td>
<td></td>
</tr>
<tr>
<td>72</td>
<td>0x48</td>
<td>CPNX</td>
<td>Computer Protocol Network Executive</td>
<td></td>
</tr>
<tr>
<td>73</td>
<td>0x49</td>
<td>CPHB</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=Computer_Protocol_Heart_Beat&amp;action=edit&amp;redlink=1" target="_blank" rel="external">Computer Protocol Heart Beat</a></td>
<td></td>
</tr>
<tr>
<td>74</td>
<td>0x4A</td>
<td>WSN</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=Wang_Span_Network&amp;action=edit&amp;redlink=1" target="_blank" rel="external">Wang Span Network</a></td>
<td></td>
</tr>
<tr>
<td>75</td>
<td>0x4B</td>
<td>PVP</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=Packet_Video_Protocol&amp;action=edit&amp;redlink=1" target="_blank" rel="external">Packet Video Protocol</a></td>
<td></td>
</tr>
<tr>
<td>76</td>
<td>0x4C</td>
<td>BR-SAT-MON</td>
<td>Backroom SATNET Monitoring</td>
<td></td>
</tr>
<tr>
<td>77</td>
<td>0x4D</td>
<td>SUN-ND</td>
<td>SUN ND PROTOCOL-Temporary</td>
<td></td>
</tr>
<tr>
<td>78</td>
<td>0x4E</td>
<td>WB-MON</td>
<td>WIDEBAND Monitoring</td>
<td></td>
</tr>
<tr>
<td>79</td>
<td>0x4F</td>
<td>WB-EXPAK</td>
<td>WIDEBAND EXPAK</td>
<td></td>
</tr>
<tr>
<td>80</td>
<td>0x50</td>
<td>ISO-IP</td>
<td>International Organization for Standardization Internet Protocol</td>
<td></td>
</tr>
<tr>
<td>81</td>
<td>0x51</td>
<td>VMTP</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=V_(operating_system" target="_blank" rel="external">Versatile Message Transaction Protocol</a>&amp;action=edit&amp;redlink=1)</td>
<td><a href="https://tools.ietf.org/html/rfc1045" target="_blank" rel="external">RFC 1045</a></td>
</tr>
<tr>
<td>82</td>
<td>0x52</td>
<td>SECURE-VMTP</td>
<td>Secure Versatile Message Transaction Protocol</td>
<td><a href="https://tools.ietf.org/html/rfc1045" target="_blank" rel="external">RFC 1045</a></td>
</tr>
<tr>
<td>83</td>
<td>0x53</td>
<td>VINES</td>
<td>VINES</td>
<td></td>
</tr>
<tr>
<td>84</td>
<td>0x54</td>
<td>TTP</td>
<td>TTP</td>
<td></td>
</tr>
<tr>
<td>84</td>
<td>0x54</td>
<td>IPTM</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=Internet_Protocol_Traffic_Manager&amp;action=edit&amp;redlink=1" target="_blank" rel="external">Internet Protocol Traffic Manager</a></td>
<td></td>
</tr>
<tr>
<td>85</td>
<td>0x55</td>
<td>NSFNET-IGP</td>
<td>NSFNET-IGP</td>
<td></td>
</tr>
<tr>
<td>86</td>
<td>0x56</td>
<td>DGP</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=Dissimilar_Gateway_Protocol&amp;action=edit&amp;redlink=1" target="_blank" rel="external">Dissimilar Gateway Protocol</a></td>
<td></td>
</tr>
<tr>
<td>87</td>
<td>0x57</td>
<td>TCF</td>
<td>TCF</td>
<td></td>
</tr>
<tr>
<td>88</td>
<td>0x58</td>
<td>EIGRP</td>
<td><a href="https://zh.wikipedia.org/wiki/EIGRP" target="_blank" rel="external">EIGRP</a></td>
<td></td>
</tr>
<tr>
<td>89</td>
<td>0x59</td>
<td>OSPF</td>
<td><a href="https://zh.wikipedia.org/wiki/Open_Shortest_Path_First" target="_blank" rel="external">Open Shortest Path First</a></td>
<td><a href="https://tools.ietf.org/html/rfc1583" target="_blank" rel="external">RFC 1583</a></td>
</tr>
<tr>
<td>90</td>
<td>0x5A</td>
<td>Sprite-RPC</td>
<td>Sprite RPC Protocol</td>
<td></td>
</tr>
<tr>
<td>91</td>
<td>0x5B</td>
<td>LARP</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=Locus_Address_Resolution_Protocol&amp;action=edit&amp;redlink=1" target="_blank" rel="external">Locus Address Resolution Protocol</a></td>
<td></td>
</tr>
<tr>
<td>92</td>
<td>0x5C</td>
<td>MTP</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=Multicast_Transport_Protocol&amp;action=edit&amp;redlink=1" target="_blank" rel="external">Multicast Transport Protocol</a></td>
<td></td>
</tr>
<tr>
<td>93</td>
<td>0x5D</td>
<td>AX.25</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=AX.25&amp;action=edit&amp;redlink=1" target="_blank" rel="external">AX.25</a></td>
<td></td>
</tr>
<tr>
<td>94</td>
<td>0x5E</td>
<td>IPIP</td>
<td><a href="https://zh.wikipedia.org/wiki/IP_in_IP" target="_blank" rel="external">IP-within-IP Encapsulation Protocol</a></td>
<td><a href="https://tools.ietf.org/html/rfc2003" target="_blank" rel="external">RFC 2003</a></td>
</tr>
<tr>
<td>95</td>
<td>0x5F</td>
<td>MICP</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=Mobile_Internetworking_Control_Protocol&amp;action=edit&amp;redlink=1" target="_blank" rel="external">Mobile Internetworking Control Protocol</a></td>
<td></td>
</tr>
<tr>
<td>96</td>
<td>0x60</td>
<td>SCC-SP</td>
<td>Semaphore Communications Sec. Pro</td>
<td></td>
</tr>
<tr>
<td>97</td>
<td>0x61</td>
<td>ETHERIP</td>
<td>Ethernet-within-IP Encapsulation</td>
<td><a href="https://tools.ietf.org/html/rfc3378" target="_blank" rel="external">RFC 3378</a></td>
</tr>
<tr>
<td>98</td>
<td>0x62</td>
<td>ENCAP</td>
<td>Encapsulation Header</td>
<td><a href="https://tools.ietf.org/html/rfc1241" target="_blank" rel="external">RFC 1241</a></td>
</tr>
<tr>
<td>99</td>
<td>0x63</td>
<td></td>
<td>Any private encryption scheme</td>
<td></td>
</tr>
<tr>
<td>100</td>
<td>0x64</td>
<td>GMTP</td>
<td>GMTP</td>
<td></td>
</tr>
<tr>
<td>101</td>
<td>0x65</td>
<td>IFMP</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=Ipsilon_Flow_Management_Protocol&amp;action=edit&amp;redlink=1" target="_blank" rel="external">Ipsilon Flow Management Protocol</a></td>
<td></td>
</tr>
<tr>
<td>102</td>
<td>0x66</td>
<td>PNNI</td>
<td>PNNI over IP</td>
<td></td>
</tr>
<tr>
<td>103</td>
<td>0x67</td>
<td>PIM</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=Protocol_Independent_Multicast&amp;action=edit&amp;redlink=1" target="_blank" rel="external">Protocol Independent Multicast</a></td>
<td></td>
</tr>
<tr>
<td>104</td>
<td>0x68</td>
<td>ARIS</td>
<td>IBM’s ARIS (Aggregate Route IP Switching) Protocol</td>
<td></td>
</tr>
<tr>
<td>105</td>
<td>0x69</td>
<td>SCPS</td>
<td><a href="http://scps.org/" target="_blank" rel="external">SCPS (Space Communications Protocol Standards)</a></td>
<td>SCPS-TP<a href="https://zh.wikipedia.org/wiki/IP%E5%8D%8F%E8%AE%AE%E5%8F%B7%E5%88%97%E8%A1%A8#cite_note-1" target="_blank" rel="external">[1]</a></td>
</tr>
<tr>
<td>106</td>
<td>0x6A</td>
<td><a href="https://zh.wikipedia.org/wiki/QNX" target="_blank" rel="external">QNX</a></td>
<td>QNX</td>
<td></td>
</tr>
<tr>
<td>107</td>
<td>0x6B</td>
<td>A/N</td>
<td>Active Networks</td>
<td></td>
</tr>
<tr>
<td>108</td>
<td>0x6C</td>
<td>IPComp</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=IP_Payload_Compression_Protocol&amp;action=edit&amp;redlink=1" target="_blank" rel="external">IP Payload Compression Protocol</a></td>
<td><a href="https://tools.ietf.org/html/rfc3173" target="_blank" rel="external">RFC 3173</a></td>
</tr>
<tr>
<td>109</td>
<td>0x6D</td>
<td>SNP</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=Sitara_Networks_Protocol&amp;action=edit&amp;redlink=1" target="_blank" rel="external">Sitara Networks Protocol</a></td>
<td></td>
</tr>
<tr>
<td>110</td>
<td>0x6E</td>
<td>Compaq-Peer</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=Compaq_Peer_Protocol&amp;action=edit&amp;redlink=1" target="_blank" rel="external">Compaq Peer Protocol</a></td>
<td></td>
</tr>
<tr>
<td>111</td>
<td>0x6F</td>
<td>IPX-in-IP</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=IPX_in_IP&amp;action=edit&amp;redlink=1" target="_blank" rel="external">IPX in IP</a></td>
<td></td>
</tr>
<tr>
<td>112</td>
<td>0x70</td>
<td>VRRP</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=Virtual_Router_Redundancy_Protocol&amp;action=edit&amp;redlink=1" target="_blank" rel="external">Virtual Router Redundancy Protocol</a>, <a href="https://zh.wikipedia.org/w/index.php?title=Common_Address_Redundancy_Protocol&amp;action=edit&amp;redlink=1" target="_blank" rel="external">Common Address Redundancy Protocol</a> (not <a href="https://zh.wikipedia.org/wiki/Internet_Assigned_Numbers_Authority" target="_blank" rel="external">IANA</a> assigned)</td>
<td>VRRP:<a href="https://tools.ietf.org/html/rfc3768" target="_blank" rel="external">RFC 3768</a></td>
</tr>
<tr>
<td>113</td>
<td>0x71</td>
<td>PGM</td>
<td><a href="https://zh.wikipedia.org/wiki/Pragmatic_General_Multicast" target="_blank" rel="external">PGM Reliable Transport Protocol</a></td>
<td><a href="https://tools.ietf.org/html/rfc3208" target="_blank" rel="external">RFC 3208</a></td>
</tr>
<tr>
<td>114</td>
<td>0x72</td>
<td></td>
<td>Any 0-hop protocol</td>
<td></td>
</tr>
<tr>
<td>115</td>
<td>0x73</td>
<td>L2TP</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=L2TPv3&amp;action=edit&amp;redlink=1" target="_blank" rel="external">Layer Two Tunneling Protocol Version 3</a></td>
<td><a href="https://tools.ietf.org/html/rfc3931" target="_blank" rel="external">RFC 3931</a></td>
</tr>
<tr>
<td>116</td>
<td>0x74</td>
<td>DDX</td>
<td>D-II Data Exchange (DDX)</td>
<td></td>
</tr>
<tr>
<td>117</td>
<td>0x75</td>
<td>IATP</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=Interactive_Agent_Transfer_Protocol&amp;action=edit&amp;redlink=1" target="_blank" rel="external">Interactive Agent Transfer Protocol</a></td>
<td></td>
</tr>
<tr>
<td>118</td>
<td>0x76</td>
<td>STP</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=Schedule_Transfer_Protocol&amp;action=edit&amp;redlink=1" target="_blank" rel="external">Schedule Transfer Protocol</a></td>
<td></td>
</tr>
<tr>
<td>119</td>
<td>0x77</td>
<td>SRP</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=SpectraLink_Radio_Protocol&amp;action=edit&amp;redlink=1" target="_blank" rel="external">SpectraLink Radio Protocol</a></td>
<td></td>
</tr>
<tr>
<td>120</td>
<td>0x78</td>
<td>UTI</td>
<td>Universal Transport Interface Protocol</td>
<td></td>
</tr>
<tr>
<td>121</td>
<td>0x79</td>
<td>SMP</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=Simple_Message_Protocol&amp;action=edit&amp;redlink=1" target="_blank" rel="external">Simple Message Protocol</a></td>
<td></td>
</tr>
<tr>
<td>122</td>
<td>0x7A</td>
<td>SM</td>
<td>Simple Multicast Protocol</td>
<td><a href="http://tools.ietf.org/html/draft-perlman-simple-multicast-03" target="_blank" rel="external">draft-perlman-simple-multicast-03</a></td>
</tr>
<tr>
<td>123</td>
<td>0x7B</td>
<td>PTP</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=Performance_Transparency_Protocol&amp;action=edit&amp;redlink=1" target="_blank" rel="external">Performance Transparency Protocol</a></td>
<td></td>
</tr>
<tr>
<td>124</td>
<td>0x7C</td>
<td>IS-IS over IPv4</td>
<td><a href="https://zh.wikipedia.org/wiki/IS-IS" target="_blank" rel="external">Intermediate System to Intermediate System (IS-IS) Protocol</a> over <a href="https://zh.wikipedia.org/wiki/IPv4" target="_blank" rel="external">IPv4</a></td>
<td><a href="https://tools.ietf.org/html/rfc1142" target="_blank" rel="external">RFC 1142</a> and <a href="https://tools.ietf.org/html/rfc1195" target="_blank" rel="external">RFC 1195</a></td>
</tr>
<tr>
<td>125</td>
<td>0x7D</td>
<td>FIRE</td>
<td>Flexible Intra-AS Routing Environment</td>
<td></td>
</tr>
<tr>
<td>126</td>
<td>0x7E</td>
<td>CRTP</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=Combat_Radio_Transport_Protocol&amp;action=edit&amp;redlink=1" target="_blank" rel="external">Combat Radio Transport Protocol</a></td>
<td></td>
</tr>
<tr>
<td>127</td>
<td>0x7F</td>
<td>CRUDP</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=Combat_Radio_User_Datagram&amp;action=edit&amp;redlink=1" target="_blank" rel="external">Combat Radio User Datagram</a></td>
<td></td>
</tr>
<tr>
<td>128</td>
<td>0x80</td>
<td>SSCOPMCE</td>
<td>Service-Specific Connection-Oriented Protocol in a Multilink and Connectionless Environment</td>
<td><a href="http://www.itu.int/rec/T-REC-Q.2111-199912-I" target="_blank" rel="external">ITU-T Q.2111 (1999)</a></td>
</tr>
<tr>
<td>129</td>
<td>0x81</td>
<td>IPLT</td>
<td></td>
<td></td>
</tr>
<tr>
<td>130</td>
<td>0x82</td>
<td>SPS</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=Secure_Packet_Shield&amp;action=edit&amp;redlink=1" target="_blank" rel="external">Secure Packet Shield</a></td>
<td></td>
</tr>
<tr>
<td>131</td>
<td>0x83</td>
<td>PIPE</td>
<td>Private IP Encapsulation within IP</td>
<td><a href="http://www.watersprings.org/pub/id/draft-petri-mobileip-pipe-00.txt" target="_blank" rel="external">Expired I-D draft-petri-mobileip-pipe-00.txt</a></td>
</tr>
<tr>
<td>132</td>
<td>0x84</td>
<td>SCTP</td>
<td><a href="https://zh.wikipedia.org/wiki/Stream_Control_Transmission_Protocol" target="_blank" rel="external">Stream Control Transmission Protocol</a></td>
<td></td>
</tr>
<tr>
<td>133</td>
<td>0x85</td>
<td>FC</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=Fibre_Channel&amp;action=edit&amp;redlink=1" target="_blank" rel="external">Fibre Channel</a></td>
<td></td>
</tr>
<tr>
<td>134</td>
<td>0x86</td>
<td>RSVP-E2E-IGNORE</td>
<td>Reservation Protocol (RSVP) End-to-End Ignore</td>
<td><a href="https://tools.ietf.org/html/rfc3175" target="_blank" rel="external">RFC 3175</a></td>
</tr>
<tr>
<td>135</td>
<td>0x87</td>
<td>Mobility Header</td>
<td>Mobility Extension Header for IPv6</td>
<td><a href="https://tools.ietf.org/html/rfc6275" target="_blank" rel="external">RFC 6275</a></td>
</tr>
<tr>
<td>136</td>
<td>0x88</td>
<td>UDPLite</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=UDP_Lite&amp;action=edit&amp;redlink=1" target="_blank" rel="external">Lightweight User Datagram Protocol</a></td>
<td><a href="https://tools.ietf.org/html/rfc3828" target="_blank" rel="external">RFC 3828</a></td>
</tr>
<tr>
<td>137</td>
<td>0x89</td>
<td>MPLS-in-IP</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=Multiprotocol_Label_Switching&amp;action=edit&amp;redlink=1" target="_blank" rel="external">Multiprotocol Label Switching</a> Encapsulated in IP</td>
<td><a href="https://tools.ietf.org/html/rfc4023" target="_blank" rel="external">RFC 4023</a></td>
</tr>
<tr>
<td>138</td>
<td>0x8A</td>
<td>manet</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=Mobile_ad_hoc_network&amp;action=edit&amp;redlink=1" target="_blank" rel="external">MANET</a> Protocols</td>
<td><a href="https://tools.ietf.org/html/rfc5498" target="_blank" rel="external">RFC 5498</a></td>
</tr>
<tr>
<td>139</td>
<td>0x8B</td>
<td>HIP</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=Host_Identity_Protocol&amp;action=edit&amp;redlink=1" target="_blank" rel="external">Host Identity Protocol</a></td>
<td><a href="https://tools.ietf.org/html/rfc5201" target="_blank" rel="external">RFC 5201</a></td>
</tr>
<tr>
<td>140</td>
<td>0x8C</td>
<td>Shim6</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=Site_Multihoming_by_IPv6_Intermediation&amp;action=edit&amp;redlink=1" target="_blank" rel="external">Site Multihoming by IPv6 Intermediation</a></td>
<td><a href="https://tools.ietf.org/html/rfc5533" target="_blank" rel="external">RFC 5533</a></td>
</tr>
<tr>
<td>141</td>
<td>0x8D</td>
<td>WESP</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=Wrapped_Encapsulating_Security_Payload&amp;action=edit&amp;redlink=1" target="_blank" rel="external">Wrapped Encapsulating Security Payload</a></td>
<td><a href="https://tools.ietf.org/html/rfc5840" target="_blank" rel="external">RFC 5840</a></td>
</tr>
<tr>
<td>142</td>
<td>0x8E</td>
<td>ROHC</td>
<td><a href="https://zh.wikipedia.org/w/index.php?title=Robust_Header_Compression&amp;action=edit&amp;redlink=1" target="_blank" rel="external">Robust Header Compression</a></td>
<td><a href="https://tools.ietf.org/html/rfc5856" target="_blank" rel="external">RFC 5856</a></td>
</tr>
<tr>
<td>143-252</td>
<td>0x8F-0xFC</td>
<td>UNASSIGNED</td>
<td></td>
<td></td>
</tr>
<tr>
<td>253-254</td>
<td>0xFD-0xFE</td>
<td>Use for experimentation and testing</td>
<td><a href="https://tools.ietf.org/html/rfc3692" target="_blank" rel="external">RFC 3692</a></td>
<td></td>
</tr>
<tr>
<td>255</td>
<td>0xFF</td>
<td>Reserved.</td>
<td></td>
</tr>
</tbody>
</table>
<p><a href="http://blog.sina.com.cn/s/blog_701557360101n6ye.html" target="_blank" rel="external">ovs-基本操作</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.imqishi.cn/2017/07/19/OpenDayLight配置/" data-id="cj5jpuyrz0008zf1y57hf903s" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SDN/">SDN</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-从生成括号到递归算法" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/06/21/从生成括号到递归算法/" class="article-date">
  <time datetime="2017-06-21T12:27:28.000Z" itemprop="datePublished">2017-06-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/06/21/从生成括号到递归算法/">从生成括号到递归算法</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>给出数字n，表示有n对格式对应的括号，求解一共有多少种情况。如，n = 3时解为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">[</div><div class="line">  &quot;((()))&quot;,</div><div class="line">  &quot;(()())&quot;,</div><div class="line">  &quot;(())()&quot;,</div><div class="line">  &quot;()(())&quot;,</div><div class="line">  &quot;()()()&quot;</div><div class="line">]</div></pre></td></tr></table></figure>
<h2 id="递归与回溯"><a href="#递归与回溯" class="headerlink" title="递归与回溯"></a>递归与回溯</h2><p>我们经常会碰到这种情况：为了描述问题的某一状态，必须要用到它的上一状态，而要描述它的上一状态，又要用上上一状态。这种用自己定义自己的方法，称为<strong>递归定义</strong>。递归定义有两个要素：</p>
<ol>
<li>递归边界条件，也就是最小的或者最原始的时候的情况，也是递归结束的情况</li>
</ol>
<p>。</p>
<ol>
<li>递归定义：使问题向边界条件转化的规则。递归定义必须能使问题越来越简单。也就是前面说的化简到最小的情况。</li>
</ol>
<p>递归算法的效率往往很低，费时和费内存空间。 但是递归也有其长处,，它能使一个蕴含递归关系且结构复杂的程序简介精炼,，增加可读性。特别是在难于找到从边界到解的全过程的情况下，如果把问题推进一步没其结果仍维持原问题的关系，则采用递归算法编程比较合适。</p>
<p>回溯是一种算法思想，可以用递归实现。通俗点讲回溯就是一种试探，类似于穷举，但回溯有“剪枝”功能，比如求和问题。给定7个数字，1 2 3 4 5 6 7求和等于7的组合，从小到大搜索，选择1+2+3+4 =10&gt;7，已经超过了7，之后的5 6 7就没必要在继续了，这就是一种搜索过程的优化。</p>
<h2 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h2><p>显然，回溯算法的思想适用于本题，我们可以用递归来实现，通过给出一些限制条件进行剪枝，完成题目。</p>
<p>我们需要记录当前状态已经有多少个左括号，多少个右括号，以便对结束条件进行判断。当左右括号数等于n * 2时说明已经达到最大长度，不再递归。</p>
<p>那么什么时候需要进行深一层的递归呢？首先是在左括号的数量没有达到n时，当前括号串后面加一个 “(” 并 left+1。其次是在右括号数小于左括号数时，当前括号串后面加一个 “)” 并 right+1。代码如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">generateParenthesis</span><span class="params">(self, n)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type n: int</div><div class="line">        :rtype: List[str]</div><div class="line">        """</div><div class="line">        self.result = []</div><div class="line">        self.backtrace(<span class="string">""</span>, <span class="number">0</span>, <span class="number">0</span>, n)</div><div class="line"></div><div class="line">        <span class="keyword">return</span> self.result</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">backtrace</span><span class="params">(self, str, left, right, n)</span>:</span></div><div class="line">        <span class="keyword">if</span> len(str) == n * <span class="number">2</span>:</div><div class="line">            self.result.append(str)</div><div class="line">            <span class="keyword">return</span></div><div class="line"></div><div class="line">        <span class="keyword">if</span> left &lt; n:</div><div class="line">            self.backtrace(str + <span class="string">"("</span>, left+<span class="number">1</span>, right, n)</div><div class="line">        <span class="keyword">if</span> right &lt; left:</div><div class="line">            self.backtrace(str + <span class="string">")"</span>, left, right+<span class="number">1</span>, n)</div></pre></td></tr></table></figure>
<h2 id="用到递归-回溯的其他题目"><a href="#用到递归-回溯的其他题目" class="headerlink" title="用到递归-回溯的其他题目"></a>用到递归-回溯的其他题目</h2><h4 id="Leetcode-24-交换一个链表的每相邻的两个数字，如：1-gt-2-gt-3-gt-4-变换为-2-gt-1-gt-4-gt-3"><a href="#Leetcode-24-交换一个链表的每相邻的两个数字，如：1-gt-2-gt-3-gt-4-变换为-2-gt-1-gt-4-gt-3" class="headerlink" title="Leetcode 24 - 交换一个链表的每相邻的两个数字，如：1-&gt;2-&gt;3-&gt;4 变换为 2-&gt;1-&gt;4-&gt;3"></a>Leetcode 24 - 交换一个链表的每相邻的两个数字，如：1-&gt;2-&gt;3-&gt;4 变换为 2-&gt;1-&gt;4-&gt;3</h4><p>​    定义交换函数swapPairs(Node)。通过分析可以看出，整个过程是不断地对接下来的两个数字进行交换，因此有递归式：<code>node.next = swapPairs(node.next.next)</code> 代码如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">swapPairsByRecursion</span><span class="params">(self, head)</span>:</span></div><div class="line">    <span class="keyword">if</span> head <span class="keyword">is</span> <span class="keyword">None</span> <span class="keyword">or</span> head.next <span class="keyword">is</span> <span class="keyword">None</span>:</div><div class="line">        <span class="keyword">return</span> head</div><div class="line">    node = head.next</div><div class="line">    head.next = self.swapPairs(head.next.next)</div><div class="line">    node.next = head</div><div class="line">    <span class="keyword">return</span> n</div></pre></td></tr></table></figure>
<h4 id="LeetCode-25-上题的变形：交换链表的每k个数字"><a href="#LeetCode-25-上题的变形：交换链表的每k个数字" class="headerlink" title="LeetCode 25 - 上题的变形：交换链表的每k个数字"></a>LeetCode 25 - 上题的变形：交换链表的每k个数字</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">reverseKGroupByRecursion</span><span class="params">(self, head, k)</span>:</span></div><div class="line">    <span class="string">"""</span></div><div class="line">    :type head: ListNode</div><div class="line">    :type k: int</div><div class="line">    :rtype: ListNode</div><div class="line">    """</div><div class="line">    cur = head</div><div class="line">    count = <span class="number">0</span></div><div class="line">    <span class="keyword">while</span> cur <span class="keyword">and</span> count != k:</div><div class="line">        cur = cur.next</div><div class="line">        count += <span class="number">1</span></div><div class="line">    <span class="comment"># 如果够k个，则逆置，否则直接返回头结点</span></div><div class="line">    <span class="keyword">if</span> count == k:</div><div class="line">        cur = self.reverseKGroupByRecursion(cur, k)</div><div class="line">        <span class="comment"># 逆置子链表</span></div><div class="line">        <span class="keyword">while</span> count &gt; <span class="number">0</span>:</div><div class="line">            tmp = head.next</div><div class="line">            head.next = cur</div><div class="line">            cur = head</div><div class="line">            head = tmp</div><div class="line">            count -= <span class="number">1</span></div><div class="line">        head = cur</div><div class="line"></div><div class="line">    <span class="keyword">return</span> head</div></pre></td></tr></table></figure>
<p>这类题目还有投机取巧的方法，消耗空间以换取解决问题的容易与易理解性。比如交换每k个数字，我们可以利用诸如Python中的字典类似的数据结构，每个维度存一个ListNode的数组，然后按序向该字典中放置链表节点，最后按序从字典中读取并重组链表。这种思路在一些走Z字型N字型之类的题目中都可以应用。</p>
<p>不过显然，使用递归的方法代码更加简洁，也不用借助额外的数据结构（空间开销）</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.imqishi.cn/2017/06/21/从生成括号到递归算法/" data-id="cj5jpuys1000azf1ycphxnnar" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/leetcode/">leetcode</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-15.3Sum" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/06/05/15.3Sum/" class="article-date">
  <time datetime="2017-06-05T13:47:48.000Z" itemprop="datePublished">2017-06-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/06/05/15.3Sum/">求和为0的三个数字的所有集合</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="LeetCode-15"><a href="#LeetCode-15" class="headerlink" title="LeetCode 15"></a>LeetCode 15</h1><h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>给出一个含有n个整数的数组，取其中三个元素a, b, c，使a + b + c = 0，列举出所有可能的情况</p>
<p><em>注意：</em> [ 1, 2, 3 ] 和 [ 2, 1, 3 ]将被认为是同一组数据‘</p>
<h2 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h2><p>暴力遍历所有情况，将是O(n^3)时间复杂度，当数据量上升到一定程度时算法会很慢。这里我们考虑有没有更快的情况。</p>
<p>比O(n^3)低的有O(n^2)，也即只需遍历两遍，即可找到所有情况。</p>
<p>首先想到的是进行<strong>排序</strong>，<strong>预处理后</strong>再做进一步打算，常用的排序都可以控制时间复杂度在O(n^2)以下。</p>
<p>为了能够确保每个数字都被访问到，必然有一个外层循环 i 包括了所有下标，因为有三个数字，所以这个最外层只需要遍历到 0 ~ n-3 即可。</p>
<p>接下来考虑<strong>如何更加有效的找另外两个数字</strong>，使题设成立：</p>
<p>要想在O(n^2)完成任务，已经用掉了n，还剩下n。自然需要剩下的两个下标从两头向中间走。</p>
<p>因为数据已排序，如果三者之和小于0，说明左边的下标太小，需要更大一些（对应的数字会小一些）</p>
<p>同理，如果三者之和大于0，说明左边的下标太大，右边的太小，需要把右边的下标变小一些（它对应的数字更小一些）</p>
<p>（因为左右边界已经定死 i + 1 ~ nums_len - 1，所以只能把小的变大，大的变小，而不能出现因为三者之和大于0就让左侧下标向左移这种情况）</p>
<p>按照这种思想，当左右游标相遇时，停止当前 i 轮，进入 i + 1 轮循环，即可遍历所有情况。</p>
<p><strong>然后再考虑更细节一点儿的情况：如果相邻的是相同的数字，应该如何处理？</strong></p>
<p>答案是：跳过，直到不相同为止。这里可能会问，会不会漏掉诸如 A, A, B这种组合呢？<strong>不会</strong>，因为别忘了，外层还有个 i 的循环，这确保了 A, A, B这种模式会被访问到。同样的，我们可以对外层循环进行类似的处理，如果当前的数字和刚刚遍历的一样，那么可以跳过。</p>
<p>并且我们可以注意到，当 i 超过0的时候，必然不存在新的可能，因此后面的遍历也可以省去。</p>
<h2 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">threeSum</span><span class="params">(self, nums)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type nums: List[int]</div><div class="line">        :rtype: List[List[int]]</div><div class="line">        """</div><div class="line">        nums.sort()</div><div class="line">        result = []</div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> xrange(len(nums) - <span class="number">2</span>):</div><div class="line">            <span class="keyword">if</span> i &gt; <span class="number">0</span> <span class="keyword">and</span> nums[i] == nums[i<span class="number">-1</span>]:</div><div class="line">                <span class="keyword">continue</span></div><div class="line">            <span class="keyword">if</span> nums[i] == <span class="number">0</span>:</div><div class="line">                <span class="keyword">if</span> i + <span class="number">1</span> &lt; len(nums) <span class="keyword">and</span> i + <span class="number">2</span> &lt; len(nums):</div><div class="line">                    <span class="keyword">if</span> nums[i+<span class="number">1</span>] == <span class="number">0</span> <span class="keyword">and</span> nums[i+<span class="number">2</span>] == <span class="number">0</span>:</div><div class="line">                        result.append([<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>])</div><div class="line">                        <span class="keyword">break</span></div><div class="line">                    <span class="keyword">else</span>:</div><div class="line">                        <span class="keyword">break</span></div><div class="line">                <span class="keyword">else</span>:</div><div class="line">                    <span class="keyword">break</span></div><div class="line">            <span class="keyword">if</span> nums[i] &gt; <span class="number">0</span>:</div><div class="line">                <span class="keyword">break</span></div><div class="line"></div><div class="line">            left, right = i + <span class="number">1</span>, len(nums) - <span class="number">1</span></div><div class="line">            <span class="keyword">while</span> left &lt; right:</div><div class="line">                sum = nums[i] + nums[left] + nums[right]</div><div class="line">                <span class="keyword">if</span> sum &lt; <span class="number">0</span>:</div><div class="line">                    left += <span class="number">1</span></div><div class="line">                <span class="keyword">elif</span> sum &gt; <span class="number">0</span>:</div><div class="line">                    right -= <span class="number">1</span></div><div class="line">                <span class="keyword">else</span>:</div><div class="line">                    result.append([nums[i], nums[left], nums[right]])</div><div class="line">                    <span class="keyword">while</span> left &lt; right <span class="keyword">and</span> nums[left] == nums[left+<span class="number">1</span>]:</div><div class="line">                        left += <span class="number">1</span></div><div class="line">                    <span class="keyword">while</span> right &gt; left <span class="keyword">and</span> nums[right] == nums[right<span class="number">-1</span>]:</div><div class="line">                        right -= <span class="number">1</span></div><div class="line">                    left += <span class="number">1</span></div><div class="line">                    right -=<span class="number">1</span></div><div class="line">        <span class="keyword">return</span> result</div></pre></td></tr></table></figure>
<h2 id="题目变形"><a href="#题目变形" class="headerlink" title="题目变形"></a>题目变形</h2><p>一个是LeetCode16题，给出一个target，求哪三个数字之和最接近target，只需在上述程序基础上稍作改动即可</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> sys</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">threeSumClosest</span><span class="params">(self, nums, target)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type nums: List[int]</div><div class="line">        :type target: int</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        nums.sort()</div><div class="line">        result = <span class="number">0</span></div><div class="line">        gap = sys.maxint</div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> xrange(len(nums) - <span class="number">2</span>):</div><div class="line">            <span class="keyword">if</span> i &gt; <span class="number">0</span> <span class="keyword">and</span> nums[i] == nums[i<span class="number">-1</span>]:</div><div class="line">                <span class="keyword">continue</span></div><div class="line"></div><div class="line">            left, right = i + <span class="number">1</span>, len(nums) - <span class="number">1</span></div><div class="line">            <span class="keyword">while</span> left &lt; right:</div><div class="line">                sum = nums[i] + nums[left] + nums[right]</div><div class="line">                diff = sum - target</div><div class="line">                tg = abs(diff)</div><div class="line">                <span class="keyword">if</span> tg &lt; gap:</div><div class="line">                    gap = tg</div><div class="line">                    result = sum</div><div class="line">                <span class="keyword">if</span> gap == <span class="number">0</span>:</div><div class="line">                    <span class="keyword">return</span> sum</div><div class="line"></div><div class="line">                <span class="keyword">if</span> diff &lt; <span class="number">0</span>:</div><div class="line">                    left += <span class="number">1</span></div><div class="line">                <span class="keyword">elif</span> diff &gt; <span class="number">0</span>:</div><div class="line">                    right -= <span class="number">1</span></div><div class="line"></div><div class="line">        <span class="keyword">return</span> result</div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.imqishi.cn/2017/06/05/15.3Sum/" data-id="cj5jpuyrs0003zf1ypkdh6epi" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/leetcode/">leetcode</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-11.容器装水取最大" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/05/27/11.容器装水取最大/" class="article-date">
  <time datetime="2017-05-27T07:04:48.000Z" itemprop="datePublished">2017-05-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/05/27/11.容器装水取最大/">容器装水取最大</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="LeetCode-11"><a href="#LeetCode-11" class="headerlink" title="LeetCode 11"></a>LeetCode 11</h1><h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>给出n个非负整数的数组，以下标和值分别作x, y轴，可以构成一个坐标轴中有很多竖线的图例，取其中两条线作为一个容器，求如何取线可以使容器获得最大的容量</p>
<h2 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h2><p>一个是要注意是非负整数，这就意味着有可能值为0，此时与其他正数构成的形状是三角形，所以蓄水量为0</p>
<p>还有一个是输入数组长度至少应该为2</p>
<h2 id="方法一-暴力求解"><a href="#方法一-暴力求解" class="headerlink" title="方法一 - 暴力求解"></a>方法一 - 暴力求解</h2><p>首先想到的就是暴力枚举，通过遍历所有情况求得最大值，这种情况下时间复杂度为O(n^2)。进一步思考，下标ij和ji的值是相同的，不需要重复计算，也即只需计算 j &gt; i 或者 i &gt; j 的情况即可。代码简单，此处不再赘述。</p>
<h2 id="方法二-一点小Trick与其他的思考"><a href="#方法二-一点小Trick与其他的思考" class="headerlink" title="方法二 - 一点小Trick与其他的思考"></a>方法二 - 一点小Trick与其他的思考</h2><p>最近被动态规划给整惨了，搞得我现在一看到这种有重复计算包含在其中的都想去看看能不能动态规划一下…但是想了一下，虽然看起来有很多计算，好像可以重复利用，但是仔细思考并不适合用动态规划，最优子结构是什么？</p>
<p>类比正则匹配的题目一样以f[i][j]作为i和j之间的最大蓄水量吗…好像没有办法在接下来的计算中进行利用…</p>
<p>类比最长回文子串的题目一样以回文串的长度作为子结构进行一步步迭代利用吗？哎？这个好像可以，但是这样的话好像把问题想复杂了，时间复杂度还是O(n^2)呀…</p>
<p>方法一的代码提交以后显示超时，那么一般来说，这里的时间复杂度应该可以减到O(logn)或者O(n)，看到log就想二分思想，但是这里显然和二分没有什么关系。看到O(n)就想到遍历一遍，一种情况是从左往右，一种情况就是从两边到中间。第一种情况想了一下不可能，因为两个点的位置是任意出现的，并不是一个固定一个活动。所以考虑情况二。</p>
<p>根据贪心的思想，每次都想让结果更大一些，那么两个竖线低的一边应该继续活动，寻找有没有更大的。这样做出来确实是对的，但是却让人心生疑惑，会不会有一个x轴跨度比较大，竖线长度比较短，而有一个x轴跨度比较小，但是竖线很长的，这两个哪个会更大呢，会不会错过一些可能的获得最大值的情况呢？</p>
<p>学习了<a href="https://discuss.leetcode.com/topic/503/anyone-who-has-a-o-n-algorithm/3" target="_blank" rel="external">Discuss</a>以后，根据第一位答主的反证法证明，我们可以看出上述问题是不可能存在的：</p>
<p>假设这样计算的结果不是最优解。那么假设最优解是a_ol和a_or。我们的算法结束的条件是左游标和右游标相遇，那么我们必然是只有一个游标曾经走过a_ol或a_or，假设一个游标到了a_ol，那么下列情况下，该游标可能从a_ol上移走：</p>
<ol>
<li>另一个游标也到了a_ol。这种情况下会退出循环，但是容易看出，a_or肯定被另一个游标走过了，这与我们的假设相悖，不可能成立。</li>
<li>另一个游标到了一个比a_ol处数组更大的值的地方，假设它是a_rr。这种情况下，哎？刚才我们是不是假设a_ol和a_or能蓄水最多吗？如果又出来一个a_rr，岂不是刚才的假设失效了？显然，这种情况也是不可能发生的。</li>
</ol>
<p>综上所述，该算法成立。</p>
<h2 id="算法实现"><a href="#算法实现" class="headerlink" title="算法实现"></a>算法实现</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxArea</span><span class="params">(self, height)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type height: List[int]</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        Max = <span class="number">0</span></div><div class="line">        i = <span class="number">0</span></div><div class="line">        j = len(height) - <span class="number">1</span></div><div class="line">        <span class="keyword">while</span> i != j:</div><div class="line">            tm = (j - i) * min(height[i], height[j])</div><div class="line">            Max = tm <span class="keyword">if</span> tm &gt; Max <span class="keyword">else</span> Max</div><div class="line">            <span class="keyword">if</span> height[i] &lt; height[j]:</div><div class="line">                i += <span class="number">1</span></div><div class="line">            <span class="keyword">else</span>:</div><div class="line">                j -= <span class="number">1</span></div><div class="line"></div><div class="line">        <span class="keyword">return</span> Max</div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.imqishi.cn/2017/05/27/11.容器装水取最大/" data-id="cj5jpuyrp0001zf1yft4b61be" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/leetcode/">leetcode</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/trick/">trick</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-10.简单正则匹配" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/05/25/10.简单正则匹配/" class="article-date">
  <time datetime="2017-05-25T15:30:48.000Z" itemprop="datePublished">2017-05-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/05/25/10.简单正则匹配/">简单正则匹配（.和*）</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="LeetCode-10"><a href="#LeetCode-10" class="headerlink" title="LeetCode 10"></a>LeetCode 10</h1><h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>给定一个字符串s和一个正则表达式p，检查是否匹配</p>
<h2 id="方法一-递归遍历"><a href="#方法一-递归遍历" class="headerlink" title="方法一 - 递归遍历"></a>方法一 - 递归遍历</h2><p>我们知道，‘.’ 代表任意一个字符，而 ‘<em>’ 代表前面的字符出现0或多次。题目这里考虑的正则表达式p默认是正确的，不会出现一些奇怪的错误匹配式。所以我们可以每次看p中的两个字符，如果第二个是 ’\</em>‘ 则进行相应处理，如果不是则继续向后处理。显然这里就出现了递归，遍历所有情况，即可获得答案。但是要注意如果正则表达式是空串，那么它只匹配空。</p>
<p>让我们进一步讨论 p[1] 是否为 ’*‘ 的情况：</p>
<ol>
<li>是。此时一种情况是p[0]没有出现过，则继续用s原串继续向后匹配即可：<code>isMatch(s, p[2:])</code> 第二种情况是p[0]出现了一次或多次，则应保证s长度大于0即 <code>len(s) != 0</code> 且 <code>s[0] == p[0]</code> 或 <code>p[0] == &#39;.&#39;</code> 此时可以把s的下标+1继续向后匹配 <code>isMatch(s[1:], p)</code></li>
<li>否。此时应保证s长度大于0并判断是否匹配，若匹配则s和p的下标均+1继续向后匹配即可</li>
</ol>
<p>综上，递归算法如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isMatch</span><span class="params">(self, s, p)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type s: str</div><div class="line">        :type p: str</div><div class="line">        :rtype: bool</div><div class="line">        """</div><div class="line">        <span class="keyword">if</span> len(p) == <span class="number">0</span>:</div><div class="line">            <span class="keyword">return</span> len(s) == <span class="number">0</span></div><div class="line"></div><div class="line">        <span class="keyword">if</span> p[<span class="number">1</span>] == <span class="string">'*'</span>:</div><div class="line">            <span class="keyword">return</span> (self.isMatch(s, p[<span class="number">2</span>:]) <span class="keyword">or</span> len(s) != <span class="number">0</span> <span class="keyword">and</span> (s[<span class="number">0</span>] == p[<span class="number">0</span>] <span class="keyword">or</span> <span class="string">'.'</span> == p[<span class="number">0</span>]) <span class="keyword">and</span> self.isMatch(s[<span class="number">1</span>:], p));</div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            <span class="keyword">return</span> len(s) != <span class="number">0</span> <span class="keyword">and</span> (s[<span class="number">0</span>] == p[<span class="number">0</span>] <span class="keyword">or</span> <span class="string">'.'</span> == p[<span class="number">0</span>]) <span class="keyword">and</span> self.isMatch(s[<span class="number">1</span>:], p[<span class="number">1</span>:])</div></pre></td></tr></table></figure>
<h2 id="方法二-动态规划"><a href="#方法二-动态规划" class="headerlink" title="方法二 - 动态规划"></a>方法二 - 动态规划</h2><h5 id="方法一遍历了所有的情况，显然效率比较低下，而通过简单的分析我们可以看出，该匹配前半部分进行的测试总结可以作为后半部分测试的前提继续用，所以考虑，是不是可以用动态规划来做呢？"><a href="#方法一遍历了所有的情况，显然效率比较低下，而通过简单的分析我们可以看出，该匹配前半部分进行的测试总结可以作为后半部分测试的前提继续用，所以考虑，是不是可以用动态规划来做呢？" class="headerlink" title="方法一遍历了所有的情况，显然效率比较低下，而通过简单的分析我们可以看出，该匹配前半部分进行的测试总结可以作为后半部分测试的前提继续用，所以考虑，是不是可以用动态规划来做呢？"></a>方法一遍历了所有的情况，显然效率比较低下，而通过简单的分析我们可以看出，该匹配前半部分进行的测试总结可以作为后半部分测试的前提继续用，所以考虑，是不是可以用动态规划来做呢？</h5><p>我们知道，动态规划是用空间换时间的经典思想，通过一个数组保存之前的计算状态供进一步分析使用帮助我们避免了许多重复的计算。</p>
<p>想要使用动态规划算法，可以使用动态规划解决的问题通常有下面的特点：最优子结构，无后效性，重叠子问题。</p>
<p>其中最重要的一点就是<strong>无后效性</strong>，所谓无后效性，就是之前的状态和之后的状态之间没有关系，引用百度百科，“某阶段的状态一旦确定，则此后过程的演变不再受此前各种状态及决策的影响”。</p>
<p>最优子结构的意思是，每个阶段的最优状态可以从之前某个阶段的某个或某些状态直接得到。</p>
<p>重叠子问题就不用多说啦，空间换时间，通过记录子问题的结果用于下一步的快速计算。</p>
<p>之前的时候我们曾经用DP解决过最长回文子串的问题，是以回文串的长度作为一个基准去不断扩张计算（长度更长的串必然包括长度短的，因此由短推长）。</p>
<p>这里我们设置一个数组 f[i][j] 表示 s[0 ~ i-1] 和 p[0 ~ j-1] 相匹配。</p>
<h5 id="对初始条件进行以下分析："><a href="#对初始条件进行以下分析：" class="headerlink" title="对初始条件进行以下分析："></a>对初始条件进行以下分析：</h5><ol>
<li>空串除了和空正则表达式相匹配，其他情况下均不能匹配，故 f[0][0] = True, i &gt;0时 f[i][0] = False</li>
<li>当正则表达式中遇到 ‘<em>‘ 时（p[j-1] = ‘\</em>‘）需要考虑前一位的情况，只有当 f[0][j-2] = True 且 j &gt; 1时为 f[0][j] True</li>
</ol>
<h5 id="对于-f-i-j-："><a href="#对于-f-i-j-：" class="headerlink" title="对于 f[i][j] ："></a>对于 f[i][j] ：</h5><ol>
<li><p>如果p[j-1] != ‘*‘ 只需 f[i-1][j-1] = True(前面的都匹配) 且 (s[i] = p[j] 或 p[j-1] = ‘.’) 即为True</p>
</li>
<li><p>如果p[j-1] = ‘*’ 若令 f[i][j] = True 此时又有下面几种情况，其中一种成立即可为True：</p>
<p>a. 如果s中没有出现匹配串，那么只需 f[i][j-2] = True。这个比较好理解，就是 s[0 ~ i-1] 和 p[0 ~ j-3] 匹配即可（p[j-2]和p[j-1]分别是一个任意字符和 ‘*’ 字符，没有匹配到）</p>
<p>b. 如果出现了至少一次，那么 f[i-1][j] = True 且 (s[i-1] = p[j-2] 或 p[j-2] = ‘.’) </p>
<p>​    因为出现了至少一次，所以是s[0 ~ i-2]和p[0 ~ j-1]匹配成功，故要有f[i-1][j] = True</p>
<p>​    要继续匹配下去，那么要看p[j-2]的关系（p[j-1]是 ‘*’）</p>
</li>
</ol>
<p>综上，代码如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isMatch</span><span class="params">(self, s, p)</span>:</span></div><div class="line">        m = len(s)</div><div class="line">        n = len(p)</div><div class="line">        f = [[<span class="keyword">False</span> <span class="keyword">for</span> i <span class="keyword">in</span> range(n + <span class="number">1</span>)] <span class="keyword">for</span> i <span class="keyword">in</span> range(m + <span class="number">1</span>)]</div><div class="line">        f[<span class="number">0</span>][<span class="number">0</span>] = <span class="keyword">True</span></div><div class="line">        i = <span class="number">1</span></div><div class="line">        <span class="keyword">while</span> i &lt;= m:</div><div class="line">            f[i][<span class="number">0</span>] = <span class="keyword">False</span></div><div class="line">            i += <span class="number">1</span></div><div class="line"></div><div class="line">        j = <span class="number">1</span></div><div class="line">        <span class="keyword">while</span> j &lt;= n:</div><div class="line">            f[<span class="number">0</span>][j] = j &gt; <span class="number">1</span> <span class="keyword">and</span> <span class="string">'*'</span> == p[j<span class="number">-1</span>] <span class="keyword">and</span> f[<span class="number">0</span>][j<span class="number">-2</span>]</div><div class="line">            j += <span class="number">1</span></div><div class="line"></div><div class="line">        i = <span class="number">1</span></div><div class="line">        <span class="keyword">while</span> i &lt;= m:</div><div class="line">            j = <span class="number">1</span></div><div class="line">            <span class="keyword">while</span> j &lt;= n:</div><div class="line">                <span class="keyword">if</span> p[j<span class="number">-1</span>] != <span class="string">'*'</span>:</div><div class="line">                    f[i][j] = f[i<span class="number">-1</span>][j<span class="number">-1</span>] <span class="keyword">and</span> (s[i<span class="number">-1</span>] == p[j<span class="number">-1</span>] <span class="keyword">or</span> <span class="string">'.'</span> == p[j<span class="number">-1</span>])</div><div class="line">                <span class="keyword">else</span>:</div><div class="line">                    f[i][j] = f[i][j<span class="number">-2</span>] <span class="keyword">or</span> ((s[i<span class="number">-1</span>] == p[j<span class="number">-2</span>] <span class="keyword">or</span> <span class="string">'.'</span> == p[j<span class="number">-2</span>]) <span class="keyword">and</span> f[i<span class="number">-1</span>][j])</div><div class="line">                j += <span class="number">1</span></div><div class="line">            i += <span class="number">1</span></div><div class="line"></div><div class="line">        <span class="keyword">return</span> f[m][n]</div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.imqishi.cn/2017/05/25/10.简单正则匹配/" data-id="cj5jpuyrk0000zf1y5zpzn15n" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/leetcode/">leetcode</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-5.最长回文子串" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/05/13/5.最长回文子串/" class="article-date">
  <time datetime="2017-05-13T12:15:48.000Z" itemprop="datePublished">2017-05-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/05/13/5.最长回文子串/">最长回文子串</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="LeetCode-5"><a href="#LeetCode-5" class="headerlink" title="LeetCode 5"></a>LeetCode 5</h1><h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>给定一个字符串，求其最长回文子串。</p>
<p>如：abacd的最长回文子串为aba，abcdedcba的最长回文子串为abcdedcba，abcded的最长回文子串为a…</p>
<h2 id="方法一"><a href="#方法一" class="headerlink" title="方法一"></a>方法一</h2><p>最基本的方法，就是遍历所有的情况，选出最长的那个串。这种方法最大的问题是效率低下，时间复杂度较高（n^3）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">longestPalindrome_normal</span><span class="params">(self, s)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type s: str</div><div class="line">        :rtype: str</div><div class="line">        """</div><div class="line">        max = <span class="number">0</span></div><div class="line">        max_str = <span class="string">""</span></div><div class="line">        search_str = <span class="string">""</span></div><div class="line">        <span class="comment"># 遍历所有字符</span></div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> s:</div><div class="line">            <span class="comment"># 如果该字符还出现过，找到所有可能的位置，检查是否回文，是否是最大值</span></div><div class="line">            <span class="keyword">if</span> i <span class="keyword">in</span> search_str:</div><div class="line">                indices = findIndex(search_str, i)</div><div class="line">                <span class="comment"># check palindrome</span></div><div class="line">                <span class="keyword">for</span> index <span class="keyword">in</span> indices:</div><div class="line">                    <span class="keyword">if</span> len(search_str) == index + <span class="number">1</span>:</div><div class="line">                        <span class="keyword">if</span> max &lt; <span class="number">2</span>:</div><div class="line">                            max = <span class="number">2</span></div><div class="line">                            max_str = search_str[index:] + i</div><div class="line">                        <span class="keyword">continue</span></div><div class="line">                    wait_checked = search_str[index:] + i</div><div class="line">                    rtn = checkPalindrome(wait_checked)</div><div class="line">                    <span class="keyword">if</span> rtn <span class="keyword">is</span> <span class="keyword">False</span>:</div><div class="line">                        <span class="keyword">continue</span></div><div class="line">                    <span class="keyword">else</span>:</div><div class="line">                        <span class="keyword">if</span> rtn &gt; max:</div><div class="line">                            max = rtn</div><div class="line">                            max_str = search_str[index:] + i</div><div class="line"></div><div class="line">            search_str += i</div><div class="line"></div><div class="line">        <span class="keyword">if</span> max == <span class="number">0</span>:</div><div class="line">            max_str = s[<span class="number">0</span>]</div><div class="line">        <span class="keyword">return</span> max_str</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">findIndex</span><span class="params">(str, needle)</span>:</span></div><div class="line">    <span class="keyword">return</span> [i <span class="keyword">for</span> i, letter <span class="keyword">in</span> enumerate(str) <span class="keyword">if</span> letter == needle]</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">checkPalindrome</span><span class="params">(str)</span>:</span></div><div class="line">    check_len = len(str)</div><div class="line">    <span class="keyword">if</span> check_len == <span class="number">1</span>:</div><div class="line">        <span class="keyword">return</span> <span class="number">1</span></div><div class="line">    half_len = check_len / <span class="number">2</span></div><div class="line">    <span class="keyword">for</span> index, val <span class="keyword">in</span> enumerate(str):</div><div class="line">        <span class="keyword">if</span> index == half_len:</div><div class="line">            <span class="keyword">break</span></div><div class="line">        count_part = <span class="number">0</span> - index - <span class="number">1</span>;</div><div class="line">        <span class="keyword">if</span> val != str[count_part]:</div><div class="line">            <span class="keyword">return</span> <span class="keyword">False</span></div><div class="line"></div><div class="line">    <span class="keyword">return</span> check_len</div></pre></td></tr></table></figure>
<h2 id="方法二-Manacher-算法"><a href="#方法二-Manacher-算法" class="headerlink" title="方法二 - Manacher 算法"></a>方法二 - Manacher 算法</h2><h4 id="方法一中我们考虑问题太过于粗暴，有两点没有考虑到："><a href="#方法一中我们考虑问题太过于粗暴，有两点没有考虑到：" class="headerlink" title="方法一中我们考虑问题太过于粗暴，有两点没有考虑到："></a>方法一中我们考虑问题太过于粗暴，有两点没有考虑到：</h4><p>一个是回文串的定义，不难得出，回文串就像之前的中位数一样，有一个“中间点”，回文串以该中间点对称。</p>
<p>第二个是在计算新的回文串之前，可能里面包含了我们曾经算过的回文串，这样的话我们就算多了，做了重复劳动。</p>
<h4 id="解决方法："><a href="#解决方法：" class="headerlink" title="解决方法："></a>解决方法：</h4><h5 id="根据第一点，转变做题思路"><a href="#根据第一点，转变做题思路" class="headerlink" title="根据第一点，转变做题思路"></a>根据第一点，转变做题思路</h5><p>不再是把当前在算的这个位置作为回文串的左侧从左往右一个个找，而是把这个位置当做一个回文串的中间点，以此点向左、向右扩展，得到回文串。</p>
<p>这样一来，我们可以通过声明一个RL数组来标志以每个字符作为中间点的回文串的长度。</p>
<p>还有一个问题是如果是长度为偶数的串，并没有这个中间点，因此我们需要创造这个中间点，方法是向字符串的头、尾还有两两之间添加一个不会出现的特殊字符，如“#”。这样的话字符串恒为奇数长度，且既不会影响回文性，也不会影响计算，只是要记得最后得把“#”占位的地方去掉就可以了。</p>
<h5 id="解决了这些问题，根据第二点，我们做如下分析"><a href="#解决了这些问题，根据第二点，我们做如下分析" class="headerlink" title="解决了这些问题，根据第二点，我们做如下分析"></a>解决了这些问题，根据第二点，我们做如下分析</h5><p>设i为当前走到的位置</p>
<p>maxRight为当前回文串能走到的最右侧</p>
<p>pos为当前最长回文串的中间点</p>
<p>j为i与pos对称的位置（此时，j的RL值已经算出），不难得出i与j的关系为：j = pos - ( i - pos ) = 2 * pos - i</p>
<p><em>注意到：i的位置必然在pos的右边，因为假设i在pos左边，那么maxRight的位置必须也往左边跑，那么pos也往左跑，不应该是当前位置（考虑最长回文串的半径长度很容易看出）</em></p>
<p>在这些条件下，有两种情况：</p>
<ol>
<li><p>i &gt;= maxRight 这种情况下，按照最普通的方式，以i为中心向左向右扩展寻找回文串，更新pos、maxRight的位置</p>
</li>
<li><p>i &lt; maxRight 这种情况下又分为两种子情况：</p>
<p>a. 如果RL[j] &lt;= maxRight - i 也即j处的回文串长度较小，其对应的i处长度还没有超出maxRight，那么根据对称性可以知道，i处的长度至少为RL[j]，求i处回文串只需从RL[j]半径处继续向外扩展即可</p>
<p>b. 如果RL[j] &gt; maxRight - i 也即j处的回文串长度较长，那么i处的回文串只能保证到maxRight的位置，因为对称性利用的是maxRight所在的最长回文串的对称性，超出maxRight无法保证回文性成立</p>
</li>
</ol>
<h4 id="算法实现"><a href="#算法实现" class="headerlink" title="算法实现"></a>算法实现</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">longestPalindrome</span><span class="params">(self, s)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type s: str</div><div class="line">        :rtype: str</div><div class="line">        """</div><div class="line">        s = <span class="string">"#"</span> + <span class="string">"#"</span>.join(s) + <span class="string">"#"</span></div><div class="line">        RL = &#123;&#125;</div><div class="line">        maxRight = <span class="number">0</span></div><div class="line">        pos = <span class="number">0</span></div><div class="line">        length = len(s)</div><div class="line">        <span class="keyword">for</span> (i, c) <span class="keyword">in</span> enumerate(s):</div><div class="line">            <span class="keyword">if</span> i &gt;= maxRight:</div><div class="line">                k = <span class="number">1</span></div><div class="line">                <span class="keyword">while</span> i - k &gt;= <span class="number">0</span> <span class="keyword">and</span> i + k &lt; length:</div><div class="line">                    <span class="keyword">if</span> s[i-k] != s[i+k]:</div><div class="line">                        <span class="keyword">break</span></div><div class="line">                    k += <span class="number">1</span></div><div class="line">                RL[i] = k - <span class="number">1</span></div><div class="line">                maxRight = i + k - <span class="number">1</span></div><div class="line">                pos = i</div><div class="line"></div><div class="line">            <span class="keyword">else</span>:</div><div class="line">                j = pos * <span class="number">2</span> - i</div><div class="line">                <span class="keyword">if</span> RL[j] &lt;= (maxRight - i):</div><div class="line">                    k = RL[j] + <span class="number">1</span></div><div class="line">                    <span class="keyword">while</span> i - k &gt;= <span class="number">0</span> <span class="keyword">and</span> i + k &lt; length:</div><div class="line">                        <span class="keyword">if</span> s[i-k] != s[i+k]:</div><div class="line">                            <span class="keyword">break</span></div><div class="line">                        k += <span class="number">1</span></div><div class="line">                    RL[i] = k - <span class="number">1</span></div><div class="line">                <span class="keyword">else</span>:</div><div class="line">                    k = maxRight - i</div><div class="line">                    <span class="keyword">while</span> i - k &gt;= <span class="number">0</span> <span class="keyword">and</span> i + k &lt; length:</div><div class="line">                        <span class="keyword">if</span> s[i-k] != s[i+k]:</div><div class="line">                            <span class="keyword">break</span></div><div class="line">                        k += <span class="number">1</span></div><div class="line">                    RL[i] = k - <span class="number">1</span></div><div class="line"></div><div class="line">        maxPos = <span class="number">0</span></div><div class="line">        maxLen = <span class="number">0</span></div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> RL:</div><div class="line">            <span class="keyword">if</span> maxLen &lt; RL[i]:</div><div class="line">                maxLen = RL[i]</div><div class="line">                maxPos = i</div><div class="line"></div><div class="line">        <span class="keyword">return</span> s[maxPos - RL[maxPos]:maxPos + RL[maxPos]].replace(<span class="string">"#"</span>, <span class="string">""</span>)</div></pre></td></tr></table></figure>
<p>写题过程中的一些小经验就是如果涉及到算下标算位置的时候（比如循环退出条件），可以先考虑一下能不能通过边界判断让代码自己去做，不然的话我们自己手算的可能不对还可能要浪费好多时间，<code>while i - k &gt;= 0 and i + k &lt; length:</code>就是一个鲜明的例子。</p>
<h2 id="方法三-动态规划"><a href="#方法三-动态规划" class="headerlink" title="方法三 - 动态规划"></a>方法三 - 动态规划</h2><p>其实这个题目一看到我就想到了动态规划，奈何功力太浅找不到具体的思路0.0~估计对于有经验的来说先想到的会是动态规划吧，时间复杂度O(n^2)</p>
<p>去搜了一下果然是可以用，总结如下：</p>
<p>动态规划的思路主要就是利用之前计算的结果在下一步计算时继续用，它有几个特点，即：最优子结构性质、无后效性、子问题的重叠性。</p>
<p>对于解决一个实际问题，我觉得最难的就是要找什么内容是可以下一步继续复用的…在网上看到了一些杂七杂八的答案，有的明明是错的，还在Baidu排在前几页（吐槽渣Baidu）去Google了一下总算是找到了一个比较正确的做法~</p>
<p>定义数组<code>f[i][j] (i &lt; length, j &lt; length)</code>表示i到j之间是回文串，以回文串的长度作为重叠性的体现，不难看出，长度更长的回文串肯定包含长度短的回文串，即长回文串可以由短的回文串继续推广而得。</p>
<p>当<code>s[i] == s[i+k-1]</code>并且比其小1的串也是回文串(<code>f[i+1][i+k-2] == 1</code>)说明<code>s[i][i+k-1]</code>是一个更长的回文串。</p>
<p>然后我们探讨初始条件，一个字符本身构成的回文长度是1，相邻的回文长度也应该是1（或者更大，姑且置为最小值1，可以通过迭代继续增长），而<code>f[i][j]</code>和<code>f[j][i]</code>本质上是一样的，把f看成一个矩阵，容易看出我们只需要讨论一半即可。这里我们选择矩阵的左下部分（即 i &lt; j 的部分）讨论，故置<code>f[i][i]</code>和<code>f[i][i-1]</code>为初始值1</p>
<h4 id="算法实现-1"><a href="#算法实现-1" class="headerlink" title="算法实现"></a>算法实现</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">longestPalindrome</span><span class="params">(self, s)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type s: str</div><div class="line">        :rtype: str</div><div class="line">        """</div><div class="line">        length = len(s)</div><div class="line">        <span class="keyword">if</span> length == <span class="number">1</span>:</div><div class="line">            <span class="keyword">return</span> s</div><div class="line">        f = [[<span class="number">0</span> <span class="keyword">for</span> i <span class="keyword">in</span> range(length)] <span class="keyword">for</span> i <span class="keyword">in</span> range(length)]</div><div class="line">        f[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">1</span></div><div class="line">        i = <span class="number">1</span></div><div class="line">        <span class="keyword">while</span> i &lt; length:</div><div class="line">            f[i][i] = <span class="number">1</span></div><div class="line">            f[i][i - <span class="number">1</span>] = <span class="number">1</span></div><div class="line">            i += <span class="number">1</span></div><div class="line"></div><div class="line">        maxLeft = maxRight = <span class="number">0</span></div><div class="line">        k = <span class="number">2</span></div><div class="line">        <span class="keyword">while</span> k &lt;= length:</div><div class="line">            i = <span class="number">0</span></div><div class="line">            <span class="keyword">while</span> i &lt;= length - k:</div><div class="line">                <span class="keyword">if</span> s[i] == s[i+k<span class="number">-1</span>] <span class="keyword">and</span> f[i+<span class="number">1</span>][i+k<span class="number">-2</span>] == <span class="number">1</span>:</div><div class="line">                    f[i][i+k<span class="number">-1</span>] = <span class="number">1</span></div><div class="line">                    <span class="keyword">if</span> maxRight - maxLeft + <span class="number">1</span> &lt; k:</div><div class="line">                        maxLeft = i</div><div class="line">                        maxRight = i + k - <span class="number">1</span></div><div class="line">                i += <span class="number">1</span></div><div class="line">            k += <span class="number">1</span></div><div class="line"></div><div class="line">        <span class="keyword">return</span> s[maxLeft:maxRight+<span class="number">1</span>]</div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.imqishi.cn/2017/05/13/5.最长回文子串/" data-id="cj5jpuyrt0004zf1yat3z300r" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/leetcode/">leetcode</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-利用XHR、jQuery实现文件下载并标识下载结束" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/05/09/利用XHR、jQuery实现文件下载并标识下载结束/" class="article-date">
  <time datetime="2017-05-09T11:40:48.000Z" itemprop="datePublished">2017-05-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/05/09/利用XHR、jQuery实现文件下载并标识下载结束/">利用XHR、jQuery实现文件下载并标识下载结束</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h2><p>实现文件下载，点击下载按钮出现遮罩/提示层，等待后台文件准备完毕弹出另存为窗口，遮罩层消失。</p>
<h2 id="问题所在"><a href="#问题所在" class="headerlink" title="问题所在"></a>问题所在</h2><p>传统的文件下载可以实现点击以后出现遮罩层，但是由于无法判断文件何时传输完毕，导致弹出另存为窗口时无法找到事件钩子或回调函数以实现遮罩层消失。</p>
<h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><h3 id="XHR-XMLHttpRequest"><a href="#XHR-XMLHttpRequest" class="headerlink" title="XHR-XMLHttpRequest"></a>XHR-XMLHttpRequest</h3><p>XHR其实我们平时很经常的在用到，它是Ajax实现的基础，所有现代浏览器均支持XHR。它可以与服务器异步通信，所以可以在不重新加载整个网页的情况下，对网页的某部分进行更新。</p>
<p>主要用到的函数与变量主要有：</p>
<ol>
<li>open(<em>method</em>,<em>url</em>,<em>async</em>)</li>
</ol>
<p>规定请求的类型、URL 以及是否异步处理请求。</p>
<ul>
<li><em>method</em>：请求的类型；GET 或 POST</li>
<li><em>url</em>：文件在服务器上的位置</li>
<li><em>async</em>：true（异步）或 false（同步）</li>
</ul>
<ol>
<li>send(<em>string</em>)</li>
</ol>
<p>发送请求，当POST请求时，用到string参数。</p>
<ol>
<li>setRequestHeader(<em>header</em>,<em>value</em>)</li>
</ol>
<p>设置HTTP头的函数。</p>
<ol>
<li>responseText &amp; responseXML &amp; response</li>
</ol>
<p>XHR对象属性，用于获取服务器响应。</p>
<h5 id="下面的是解决本问题所用到的额外的几个参数"><a href="#下面的是解决本问题所用到的额外的几个参数" class="headerlink" title="下面的是解决本问题所用到的额外的几个参数"></a>下面的是解决本问题所用到的额外的几个参数</h5><ol>
<li>responseType</li>
</ol>
<p>XHR对象属性，设置想要获得的response类型，常用的有下面几个：</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Data type of <code>response</code> property</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&quot;&quot;</code></td>
<td><a href="https://developer.mozilla.org/en-US/docs/Web/API/DOMString" target="_blank" rel="external"><code>DOMString</code></a> (默认值)</td>
</tr>
<tr>
<td><code>&quot;arraybuffer&quot;</code></td>
<td><a href="https://developer.mozilla.org/en-US/docs/Web/API/ArrayBuffer" target="_blank" rel="external"><code>ArrayBuffer</code></a></td>
</tr>
<tr>
<td><code>&quot;blob&quot;</code></td>
<td><a href="https://developer.mozilla.org/en-US/docs/Web/API/Blob" target="_blank" rel="external"><code>Blob</code></a> (用于文件下载等大量数据)</td>
</tr>
<tr>
<td><code>&quot;document&quot;</code></td>
<td><a href="https://developer.mozilla.org/en-US/docs/Web/API/Document" target="_blank" rel="external"><code>Document</code></a></td>
</tr>
<tr>
<td><code>&quot;json&quot;</code></td>
<td>由服务端返回的JSON字符串所构造的JavaScript 对象</td>
</tr>
</tbody>
</table>
<ol>
<li>onload事件</li>
</ol>
<p>当请求成功完成时触发，此时<code>xhr.readystate=4</code>，利用onload回调，可以在此实现文件下载完毕时关闭遮罩层。</p>
<h3 id="Blob简介"><a href="#Blob简介" class="headerlink" title="Blob简介"></a>Blob简介</h3><p>BLOB (binary large object)，二进制大对象，是一个可以存储二进制文件的容器。<br>在计算机中，BLOB常常是数据库中用来存储二进制文件的字段类型。<br>BLOB是一个大文件，典型的BLOB是一张图片或一个声音文件，由于它们的尺寸，必须使用特殊的方式来处理（例如：上传、下载或者存放到一个数据库）。</p>
<p>利用Blob，我们的问题得以解决。说到Blob，就不得不说起利用<strong><em>window.URL</em></strong> or <strong><em>window.webkitURL</em></strong>实现下载Blob的问题啦</p>
<p><strong><em>URL.createObjectURL()</em></strong> 方法会根据传入的参数创建一个指向该参数对象的URL。这个URL的生命仅存在于它被创建的这个文档里。 新的对象URL指向执行的File对象或者是Blob对象。</p>
<p><strong><em>URL.revokeObjectURL()</em> </strong>方法会释放一个通过URL.createObjectURL()创建的对象URL，当你要已经用过了这个对象URL，然后要让浏览器知道这个URL已经不再需要指向对应的文件的时候，就需要调用这个方法。</p>
<p>具体的意思就是说，一个对象URL，使用这个url是可以访问到指定的文件的，但是我可能只需要访问一次，一旦已经访问到了，这个对象URL就不再需要了，就被释放掉。被释放掉以后，这个对象URL就不再指向指定的文件了。</p>
<h3 id="实现思路"><a href="#实现思路" class="headerlink" title="实现思路"></a>实现思路</h3><p>利用XHR实现把后台传输的文件以Blob格式存储，在点击下载按钮时，发送XMLHttpRequest请求，在onload回调中创建虚拟的一个a标签并将其绑定到Blob对象，然后模拟点击URL下载的操作实现下载。弹出另存为窗口后，也即在onload事件的最后隐藏遮罩层。搞定~</p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">$(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  $(<span class="string">".submit"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    $(<span class="string">'.wrd-loading'</span>).show();</div><div class="line">    <span class="keyword">var</span> oReq = <span class="keyword">new</span> XMLHttpRequest();</div><div class="line">    oReq.open(<span class="string">"GET"</span>, <span class="string">"&#123;&#123; action('System\LogController@getDownloadLogFile')  &#125;&#125;"</span>, <span class="literal">true</span>);</div><div class="line">    oReq.responseType = <span class="string">"blob"</span>;</div><div class="line"></div><div class="line">    oReq.onload = <span class="function"><span class="keyword">function</span>(<span class="params">oEvent</span>) </span>&#123;</div><div class="line">      <span class="keyword">var</span> blob = oReq.response;</div><div class="line">      <span class="keyword">let</span> a = <span class="built_in">document</span>.createElement(<span class="string">'a'</span>);</div><div class="line">      <span class="keyword">let</span> myURL = <span class="built_in">window</span>.URL</div><div class="line">      <span class="keyword">if</span>(myURL.createObjectURL == <span class="literal">undefined</span>)</div><div class="line">        myURL = <span class="built_in">window</span>.webkitURL</div><div class="line">      <span class="keyword">let</span> url = myURL.createObjectURL(blob);</div><div class="line">      <span class="keyword">let</span> filename = <span class="string">'api_push.zip'</span>;</div><div class="line">      a.href = url;</div><div class="line">      a.download = filename;</div><div class="line">      a.click();</div><div class="line">      myURL.revokeObjectURL(url);</div><div class="line">      $(<span class="string">'.wrd-loading'</span>).hide();</div><div class="line">    &#125;;</div><div class="line">    oReq.send();</div><div class="line">  &#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>后台只需按正常方式发送即可，如php可能就是echo file_get_contents();</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ol>
<li><p>[你真的会使用XMLHttpRequest吗？]: <a href="https://segmentfault.com/a/1190000004322487" target="_blank" rel="external">https://segmentfault.com/a/1190000004322487</a></p>
</li>
<li><p>[XMLHttpRequest.responseType]: <a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/responseType" target="_blank" rel="external">https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/responseType</a></p>
</li>
<li><p>[URL.createObjectURL和URL.revokeObjectUR]: <a href="http://www.mamicode.com/info-detail-456059.html" target="_blank" rel="external">http://www.mamicode.com/info-detail-456059.html</a></p>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.imqishi.cn/2017/05/09/利用XHR、jQuery实现文件下载并标识下载结束/" data-id="cj5jpuys5000fzf1y0vc9mazl" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javascript/">javascript</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-4.求有序数组的中位数" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/05/04/4.求有序数组的中位数/" class="article-date">
  <time datetime="2017-05-04T07:01:48.000Z" itemprop="datePublished">2017-05-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/05/04/4.求有序数组的中位数/">求有序数组的中位数</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="LeetCode-4"><a href="#LeetCode-4" class="headerlink" title="LeetCode 4"></a>LeetCode 4</h1><h2 id="方法一"><a href="#方法一" class="headerlink" title="方法一"></a>方法一</h2><p>遍历，分别从两个数组头最小的开始向后走，走到中间为止。这种方法最简单，但是时间复杂度为O(m+n)，那么有没有更快的方法呢？</p>
<p>由题目要求我们的算法时间复杂度为O(log (m+n))可以看出显然是有的，看到log就让人想起二分，没错，这种更快的方法正是利用了二分的原理。</p>
<h2 id="方法二"><a href="#方法二" class="headerlink" title="方法二"></a>方法二</h2><p>根据中位数的定义可以知道，中位数是一组数据中位于中间位置的数字，这也就意味着，假设有两个有序数组A和B：</p>
<p>把A分成两部分，分别为0 ~ i-1, i ~ m-1</p>
<p>把B分成两部分，分别为0 ~ j-1, j ~ n-1</p>
<p>可以知道</p>
<p>i-1-0+1 + j-1-0+1 = m-1-i+1 + n-1-j+1</p>
<p>也就是 i + j = (m + n) / 2</p>
<p>这里要注意的是，该式是m+n为偶数时成立的情况，当m+n为奇数时，i+j = (m+n+1) / 2，原因如下：</p>
<h3 id="首先我们要搞清楚，按这种分法，中位数在哪里产生："><a href="#首先我们要搞清楚，按这种分法，中位数在哪里产生：" class="headerlink" title="首先我们要搞清楚，按这种分法，中位数在哪里产生："></a>首先我们要搞清楚，按这种分法，中位数在哪里产生：</h3><ol>
<li>如果是偶数的话，显然应该是i-1和j-1的较大者与i和j的较小者的均值</li>
<li>如果是奇数的话，则我们认定为i-1和j-1的较大者</li>
</ol>
<h3 id="在这种情况下，我们进行假设："><a href="#在这种情况下，我们进行假设：" class="headerlink" title="在这种情况下，我们进行假设："></a>在这种情况下，我们进行假设：</h3><p>假设A = [1,2], B = [3,4]，以第一轮为例，i = 2 / 2 = 1, j = 4 / 2 - 1 = 1，注意i和j是数组下标，也就是说，左侧分别有一个下标为0的数，正好是中位数。假设我们+1，i + j = 5 / 2 = 2 正确</p>
<p>假设A = [1, 2], B= [3, 4, 5]，以第一轮为例，如果不+1，i = 2 / 2 = 1, j = 5 / 2 - 1 = 1，由于i和j是数组下标，那么左侧共有两个数，而根据之前的定义左侧应该有3个数，所以只有+1以后才能满足左侧有3个数（此时j = 2）</p>
<p>为什么必须是3个数呢？这要从开始的解题思路说起，因为我们假设分成的两部分是以 i, j 为分割的，那么左侧加起来应该为总长度的一半，此时中位数为左侧最大与右侧最小的均值。如果无法整除，取左侧最大。所以左侧长度要么为一半，要么为一半 +1，故i + j = (m + n + 1) / 2</p>
<p>为什么要保证m &lt; n呢？因为如果m &gt; n，i比较大，有可能会出现j为负数的情况。</p>
<h3 id="那么搜索的时候有哪些情况呢？"><a href="#那么搜索的时候有哪些情况呢？" class="headerlink" title="那么搜索的时候有哪些情况呢？"></a>那么搜索的时候有哪些情况呢？</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">&lt;a&gt; (j == 0 or i == m or B[j-1] &lt;= A[i]) and</div><div class="line">    (i == 0 or j = n or A[i-1] &lt;= B[j])</div><div class="line">    i即为所求.</div><div class="line"></div><div class="line">&lt;b&gt; j &gt; 0 and i &lt; m and B[j - 1] &gt; A[i]</div><div class="line">    i太小，应该增加（j会相应减小）.</div><div class="line"></div><div class="line">&lt;c&gt; i &gt; 0 and j &lt; n and A[i - 1] &gt; B[j]</div><div class="line">    i太大，应该减小（j会相应增加）.</div></pre></td></tr></table></figure>
<h3 id="综上，代码如下："><a href="#综上，代码如下：" class="headerlink" title="综上，代码如下："></a>综上，代码如下：</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">median</span><span class="params">(A, B)</span>:</span></div><div class="line">   m, n = len(A), len(B)</div><div class="line">   <span class="keyword">if</span> m &gt; n:</div><div class="line">       A, B, m, n = B, A, n, m</div><div class="line">   <span class="keyword">if</span> n == <span class="number">0</span>:</div><div class="line">       <span class="keyword">raise</span> ValueError</div><div class="line"></div><div class="line">   imin, imax, half_len = <span class="number">0</span>, m, (m + n + <span class="number">1</span>) / <span class="number">2</span></div><div class="line">   <span class="keyword">while</span> imin &lt;= imax:</div><div class="line">       i = (imin + imax) / <span class="number">2</span></div><div class="line">       j = half_len - i</div><div class="line">       <span class="keyword">if</span> i &lt; m <span class="keyword">and</span> B[j<span class="number">-1</span>] &gt; A[i]:</div><div class="line">           <span class="comment"># i is too small, must increase it</span></div><div class="line">           imin = i + <span class="number">1</span></div><div class="line">       <span class="keyword">elif</span> i &gt; <span class="number">0</span> <span class="keyword">and</span> A[i<span class="number">-1</span>] &gt; B[j]:</div><div class="line">           <span class="comment"># i is too big, must decrease it</span></div><div class="line">           imax = i - <span class="number">1</span></div><div class="line">       <span class="keyword">else</span>:</div><div class="line">           <span class="comment"># i is perfect</span></div><div class="line"></div><div class="line">		<span class="comment"># i = 0意味着数组A太大了，走到左侧的头了，左侧只有B了，所以左侧的最大值应该为B[j-1]</span></div><div class="line">           <span class="keyword">if</span> i == <span class="number">0</span>: max_of_left = B[j<span class="number">-1</span>]</div><div class="line">           <span class="comment"># j = 0意味着B太大了，指针走到左侧的头了，左侧只有A了，所以左侧最大值应该为A[i-1]</span></div><div class="line">           <span class="keyword">elif</span> j == <span class="number">0</span>: max_of_left = A[i<span class="number">-1</span>]</div><div class="line">           <span class="comment"># 否则说明中位数的第一个数字（左侧较大的）在两组数据的中间位置</span></div><div class="line">           <span class="keyword">else</span>: max_of_left = max(A[i<span class="number">-1</span>], B[j<span class="number">-1</span>])</div><div class="line"></div><div class="line">		<span class="comment"># 根据上面的分析知道如果是奇数，该数就是中位数</span></div><div class="line">           <span class="keyword">if</span> (m + n) % <span class="number">2</span> == <span class="number">1</span>:</div><div class="line">               <span class="keyword">return</span> max_of_left</div><div class="line"></div><div class="line">		<span class="comment"># 如果i走到最右边，说明A太小了，右侧只有B，所以右侧最小值是B[j]</span></div><div class="line">           <span class="keyword">if</span> i == m: min_of_right = B[j]</div><div class="line">           <span class="comment"># 如果j走到最右边，说明B太小了，右侧只有A，所以右侧最小值是A[i]</span></div><div class="line">           <span class="keyword">elif</span> j == n: min_of_right = A[i]</div><div class="line">           <span class="comment"># 否则说明中位数的第二个数字(右侧较小的)在两组数据的中间位置</span></div><div class="line">           <span class="keyword">else</span>: min_of_right = min(A[i], B[j])</div><div class="line"></div><div class="line">		<span class="comment"># 如果是偶数，应该为左侧最大与右侧最小值的均值</span></div><div class="line">           <span class="keyword">return</span> (max_of_left + min_of_right) / <span class="number">2.0</span></div></pre></td></tr></table></figure>
<h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>解题过程中遇到的问题与解决思路主要有两个：</p>
<ol>
<li>第一次尝试解题，没能把中位数的概念运用好，i和j之间的关系没有用起来，导致i与j各自独立，计算的时候混乱。</li>
<li>第二次尝试解题，注意了i与j之间的关系，但是对于 m + n + 1 中为什么+1没搞清楚，至于为什么+1，在上面已经讲清楚了。</li>
<li>如果说还有小的点，那就是对imin和imax的设置了，一定要注意是 i + 1或者 i - 1 ，不是设置成1…这算是二分的基本点了。</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.imqishi.cn/2017/05/04/4.求有序数组的中位数/" data-id="cj5jpuyrv0005zf1ymz9g45lw" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/leetcode/">leetcode</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">__('next') &raquo;</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/SDN/">SDN</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript/">javascript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/leetcode/">leetcode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/trick/">trick</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/SDN/" style="font-size: 15px;">SDN</a> <a href="/tags/javascript/" style="font-size: 10px;">javascript</a> <a href="/tags/leetcode/" style="font-size: 20px;">leetcode</a> <a href="/tags/trick/" style="font-size: 10px;">trick</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/07/25/今日论文-20170725/">今日论文</a>
          </li>
        
          <li>
            <a href="/2017/07/19/论文阅读报告/">论文阅读报告</a>
          </li>
        
          <li>
            <a href="/2017/07/19/OpenDayLight配置/">SDN基础知识学习-环境配置</a>
          </li>
        
          <li>
            <a href="/2017/06/21/从生成括号到递归算法/">从生成括号到递归算法</a>
          </li>
        
          <li>
            <a href="/2017/06/05/15.3Sum/">求和为0的三个数字的所有集合</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 Nick<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>