<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><title>数学/数字类问题汇总 | Nick's Recycle bin</title><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.min.css"><script>var GLOBAL = { 
  root: '/',
  algolia: undefined,
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  }
} </script><link rel="icon" href="/favicon.ico"></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar"><div class="toggle-sidebar-info text-center"><span data-toggle="Toggle article">Toggle site</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Leetcode-319-Bulb-Switcher"><span class="toc-number">1.</span> <span class="toc-text">Leetcode 319 Bulb Switcher</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Leetcode-357-Count-Numbers-with-Unique-Digits"><span class="toc-number">2.</span> <span class="toc-text">Leetcode 357 Count Numbers with Unique Digits</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Leetcode-365-Water-and-Jug-Problem"><span class="toc-number">3.</span> <span class="toc-text">Leetcode 365 Water and Jug Problem</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#裴蜀定理-摘自Wikipedia"><span class="toc-number">3.1.</span> <span class="toc-text">裴蜀定理 - 摘自Wikipedia</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#思路"><span class="toc-number">3.2.</span> <span class="toc-text">思路</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#代码"><span class="toc-number">3.3.</span> <span class="toc-text">代码</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Leetcode-372-Super-Pow"><span class="toc-number">4.</span> <span class="toc-text">Leetcode 372. Super Pow</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#题目"><span class="toc-number">4.1.</span> <span class="toc-text">题目</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#思路-1"><span class="toc-number">4.2.</span> <span class="toc-text">思路</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Leetcode-371-Sum-of-Two-Integers"><span class="toc-number">5.</span> <span class="toc-text">Leetcode 371. Sum of Two Integers</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#题目-1"><span class="toc-number">5.1.</span> <span class="toc-text">题目</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#思路-2"><span class="toc-number">5.2.</span> <span class="toc-text">思路</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#其他"><span class="toc-number">6.</span> <span class="toc-text">其他</span></a></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="img/avatar.jpg"></div><div class="author-info__name text-center">Nick</div><div class="author-info__description text-center">弱者 总是为他们的失败找理由 而他们本身就是最好的理由</div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">Articles</span><span class="pull-right">47</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">Tags</span><span class="pull-right">18</span></a></div></div></div><div id="content-outer"><div class="no-bg" id="top-container" style="background-image: url(true);"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">Nick's Recycle bin</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus"><a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a></span></div><div id="post-info"><div id="post-title">数学/数字类问题汇总</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2018-04-27 </time></div></div></div><div class="layout" id="content-inner"><article id="post"><div id="post-content"><h1 id="Leetcode-319-Bulb-Switcher"><a href="#Leetcode-319-Bulb-Switcher" class="headerlink" title="Leetcode 319 Bulb Switcher"></a>Leetcode 319 Bulb Switcher</h1><p>给一个n表示有n个灯泡，开始它们是全部关闭的，之后会分别以每隔0-n-1个的次序把灯泡状态取反，求最后有几个灯泡开着。比如，每隔0个把灯泡状态取反，就是全开着，每隔1个把灯泡状态取反，就是0 2 4 6 …关闭，其他的开启。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">Given n = 3. </div><div class="line"></div><div class="line">At first, the three bulbs are [off, off, off].</div><div class="line">After first round, the three bulbs are [on, on, on].</div><div class="line">After second round, the three bulbs are [on, off, on].</div><div class="line">After third round, the three bulbs are [on, off, off]. </div><div class="line"></div><div class="line">So you should return 1, because there is only one bulb is on.</div></pre></td></tr></table></figure>
<p>首先观察题目给的例子，多写几个可以发现，<strong>一个开关i被拨动的次数就是i的约数的个数</strong>，比如第8个开关，它被拨动了4次，分别在轮数为1, 2, 4, 8时，而1, 2, 4, 8就是8的约数。<br>所以题目就变成了求1-n中每个数i的约数个数，统计约数个数是奇数的数目，因为如果约数个数是奇数，则开关是开的。<br>那么下一步就是求i的约数个数，我们注意到，<strong>约数是成对存在的</strong>，即2是8的约数，那么8÷2=4也是8的约数，其中有一种特殊情况，就是i为完全平方数，比如9跟它的约数3，因此，<br><strong>如果i是完全平方数，那么i的约数个数肯定是奇数，如果i不是完全平方数，由于约数成对出现，所以约数个数肯定是偶数。</strong><br>于是题目转化为：<strong>计算1-n中完全平方数的数目</strong></p>
<p>而<strong>小于等于n的平方数的数目就是直接对n的平方根取整数</strong>，所以直接返回对n的平方根的取整即可。</p>
<h1 id="Leetcode-357-Count-Numbers-with-Unique-Digits"><a href="#Leetcode-357-Count-Numbers-with-Unique-Digits" class="headerlink" title="Leetcode 357 Count Numbers with Unique Digits"></a>Leetcode 357 Count Numbers with Unique Digits</h1><p>给出一个非负整数n，计算 0 &lt;= i &lt; 10^n 所有位都不同的数字有多少个。</p>
<p>这其实是一个排列组合问题。</p>
<p>首先我们考虑一位数，可以有0 - 9共10个</p>
<p>然后考虑2位数，第一位数字可以取 1 - 9 共9个，对于第一位已经确定的数字，第二位保证与其不同有9个可能，所以一共是9 * 9 = 81个</p>
<p>然后考虑3位数，同样的方法得到前两位的取值，此时还剩下8个数字可以选，所以是 9 <em> 9 </em> 8 个</p>
<p>4位数：9 <em> 9 </em> 8 * 7</p>
<p>以此类推…注意到，当位数多于10以后必然会出现重的数字，因此只需计算到10位即可</p>
<p>显然我们要求和就是把上述各种位数的结果加起来。易得代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">countNumbersWithUniqueDigits</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (n == <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">int</span> sum = <span class="number">10</span>, last = <span class="number">9</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n &amp;&amp; i &lt;= <span class="number">10</span>; i ++) &#123;</div><div class="line">        last = last * (<span class="number">9</span> - i + <span class="number">2</span>);</div><div class="line">        sum += last;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> sum;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="Leetcode-365-Water-and-Jug-Problem"><a href="#Leetcode-365-Water-and-Jug-Problem" class="headerlink" title="Leetcode 365 Water and Jug Problem"></a>Leetcode 365 Water and Jug Problem</h1><p>给两个桶，分别指定他们的容量为 x 和 y。有无限量的水，判断是否能用这两个桶量出 z 数量的水。</p>
<p>离散数学里面讨论过的问题，其实是一个数论的问题，和分金条问题类似。</p>
<h2 id="裴蜀定理-摘自Wikipedia"><a href="#裴蜀定理-摘自Wikipedia" class="headerlink" title="裴蜀定理 - 摘自Wikipedia"></a>裴蜀定理 - 摘自Wikipedia</h2><p>在数论中，裴蜀等式（英语：Bézout’s identity）或裴蜀定理（Bézout’s lemma）是一个关于最大公约数（或最大公约式）的定理。裴蜀定理得名于法国数学家艾蒂安·裴蜀，说明了对任何整数  a、 b和  m，关于未知数 x 和 y的线性丢番图方程（称为裴蜀等式）：</p>
<p>ax + by = m</p>
<p>有整数解时当且仅当m是 a 及 b 的最大公约数 d 的倍数。裴蜀等式有解时必然有无穷多个整数解，每组解 x、 y都称为裴蜀数，可用扩展欧几里得算法求得。</p>
<p>特别来说，方程 ax + by = 1 有整数解当且仅当整数a和b互素。</p>
<h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>只需要简单的求出 x 与 y 的最大公约数，然后判断 z 是否是最大公约数的倍数即可。例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">x = 4, y = 6, z = 8.</div><div class="line">GCD(4, 6) = 2</div><div class="line">8 是 2 的倍数，并且我们可以凑出：</div><div class="line">-1 * 4 + 6 * 2 = 8</div><div class="line">这种情况的意思是，可以通过倒一次4升桶，向6升桶两次注入水得到所求。过程如下：先把6升桶倒满，然后把6升桶的水倒入4升桶，把4升桶清空，把剩下的2升倒入4升桶，再把6升桶注满，就得到了8升水。</div><div class="line">其实我们可以发现，完全可以：</div><div class="line">2 * 4 + 6 * 0 = 8</div><div class="line">向4升桶注满水，然后倒入6升桶，再把4升桶倒满，就得到了8升。</div></pre></td></tr></table></figure>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canMeasureWater</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span> z)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (x + y &lt; z) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">if</span> (x == z || y == z || x + y == z) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> z % GCD(x, y) == <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">GCD</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</div><div class="line">    <span class="keyword">while</span> (b != <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">int</span> t = a % b;</div><div class="line">        a = b;</div><div class="line">        b = t;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> a;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>顺便复习一下求最大公约数，辗转相除法~</p>
<h1 id="Leetcode-372-Super-Pow"><a href="#Leetcode-372-Super-Pow" class="headerlink" title="Leetcode 372. Super Pow"></a>Leetcode 372. Super Pow</h1><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p>给出一个正整数 a 和一个正整数组成的数组 b，求 a 的 b 次方对 1337 取余的结果。</p>
<h2 id="思路-1"><a href="#思路-1" class="headerlink" title="思路"></a>思路</h2><p>最简单的思路就是对数组进行整数的模拟减法，然后一直减到0为止，每减1就做乘法和取余。这种方法的关键在于数组的整数减法模拟，比较常规的思路。</p>
<p>还有一种就是首先分析一下取余操作是个什么套路，可以发现：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">a * b % k = ((a % k) * (b % k)) % k</div></pre></td></tr></table></figure>
<p> n 次方这个操作到底是什么样子的：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">x^n = x^p * x^q  (n = p + q)</div><div class="line">x^n = (x^p)^q  (n = p * q)</div></pre></td></tr></table></figure>
<p>我们惊奇地发现，完全可以把以数组表示的幂数采用如上的幂操作进行分解，假设我们使用 f(a, b) 表示计算 a ^ b % 1337，有如下示例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">f(a, 12345) = f(f(a, 1234), 10) * f(a, 5) % 1337</div></pre></td></tr></table></figure>
<p>正好符合递归函数的定义有木有！然后就可以欢乐的写代码啦</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">final</span> <span class="keyword">int</span> BASE = <span class="number">1337</span>;</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">superPower</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span>[] b)</span> </span>&#123;</div><div class="line">    LinkedList&lt;Integer&gt; bList = <span class="keyword">new</span> LinkedList&lt;&gt;();</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i : b) &#123;</div><div class="line">        bList.add(i);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> subSuperPower(a, bList);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">subSuperPower</span><span class="params">(<span class="keyword">int</span> a, LinkedList&lt;Integer&gt; b)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (b.size() == <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">int</span> last_digit = b.removeLast();</div><div class="line"></div><div class="line">    <span class="keyword">return</span> powMod(subSuperPower(a, b), <span class="number">10</span>) * powMod(a, last_digit) % BASE;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">powMod</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> k)</span> </span>&#123;</div><div class="line">    a %= BASE;</div><div class="line">    <span class="keyword">int</span> res = <span class="number">1</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; k; i ++) &#123;</div><div class="line">        res = (res * a) % BASE;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> res;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="Leetcode-371-Sum-of-Two-Integers"><a href="#Leetcode-371-Sum-of-Two-Integers" class="headerlink" title="Leetcode 371. Sum of Two Integers"></a>Leetcode 371. Sum of Two Integers</h1><h2 id="题目-1"><a href="#题目-1" class="headerlink" title="题目"></a>题目</h2><p>不使用 + 和 - 实现两个数字的求和操作。</p>
<h2 id="思路-2"><a href="#思路-2" class="headerlink" title="思路"></a>思路</h2><p>不让用符号，就是考你位运算…（这脑回路应该没啥问题</p>
<p>相加的操作如何完成呢？我们把数字转成二进制看，显然取与操作可以求得进位，取异或操作可以求得加和后该位应该的取值。那么我们通过一次 &amp; 操作可以取得两个数字会发生进位的位置，通过 ^ 操作进行一次不考虑进位的加和，最终把 b 改为进位的数字左移一位（因为下一轮求和时进的位是和左边一位加，所以要左移一位）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getSum</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</div><div class="line">    <span class="keyword">while</span>(b != <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">int</span> carry = a &amp; b;</div><div class="line">        a = a ^ b;</div><div class="line">        b = carry &lt;&lt; <span class="number">1</span>;            </div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> a;        </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h1>
<a href="/2018/04/21/素数问题/" title="素数相关问题">素数相关问题</a>
</div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/leetcode/">leetcode</a></div></article><nav id="pagination"><div class="prev-post pull-left"><a href="/2018/05/01/单调栈/"><i class="fa fa-chevron-left">  </i><span>单调栈</span></a></div><div class="next-post pull-right"><a href="/2018/04/27/Leetcode 368. Largest Divisible Subset/"><span>Leetcode 368. Largest Divisible Subset</span><i class="fa fa-chevron-right"></i></a></div></nav></div></div><footer><div class="layout" id="footer"><div class="copyright">©2013 - 2018 By Nick</div><div class="framework-info"><span>Driven - </span><a href="http://hexo.io"><span>Hexo</span></a><span> |  </span><span>Theme - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="busuanzi"><script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file-o"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="/js/third-party/anime.min.js"></script><script src="/js/third-party/jquery.min.js"></script><script src="/js/third-party/jquery.fancybox.min.js"></script><script src="/js/third-party/velocity.min.js"></script><script src="/js/third-party/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/fancybox.js"></script><script src="/js/sidebar.js"></script><script src="/js/copy.js"></script><script src="/js/fireworks.js"></script><script src="/js/transition.js"></script><script src="/js/scroll.js"></script><script src="/js/head.js"></script></body></html>